<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Shawn&#039;Blog Test</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Shawn&#039;Blog Test"><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Shawn&#039;Blog Test"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Shawn&#039;Blog Test"><meta property="og:url" content="https://bearfly1990.github.io/"><meta property="og:site_name" content="Shawn&#039;Blog Test"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://bearfly1990.github.io/img/og_image.png"><meta property="article:author" content="Shawn"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://bearfly1990.github.io"},"headline":"Shawn'Blog Test","image":["https://bearfly1990.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Shawn"},"description":""}</script><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/favicon.ico" alt="Shawn&#039;Blog Test" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/bearfly1990"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-11-28T16:00:00.000Z" title="2018/11/29 上午12:00:00">2018-11-29</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-11-30T12:01:09.841Z" title="2018/11/30 下午8:01:09">2018-11-30</time></span><span class="level-item"> BF </span><span class="level-item">16 minutes read (About 2468 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/11/29/2018/11/2018-11-29-SwaggerOnePage/">Swagger In One Page</a></h1><div class="content"><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>利用 Swagger 官方的 Editor 和 UI 已经能够展示文档，但最后做为交付的文档，肯定是需要能直接打开的文档(e.g. html 格式)才行。所以这两天研究了之后，找到了几个解决方案</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/twskj/pretty-swag">pretty-swag</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/sourcey/spectacle">spectacle</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/bootprint/bootprint-openapi">bootprint-openapi</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/substack/html-inline">html-inline</a> (把 html,js,css 整合到一个 html 中)</li>
</ul>
<p>他们都是基于 Node.js 的，所以要先安装较新版的 node.js(v10)，下面分别来介绍下怎么使用。</p>
<p>在下面打开的一些完整示例的时候，除 pretty-swag 外都是支持手机端的，不过在电脑上的效果最好。</p>
<h1 id="pretty-swag"><a href="#pretty-swag" class="headerlink" title="pretty-swag"></a><a target="_blank" rel="noopener" href="https://github.com/twskj/pretty-swag">pretty-swag</a></h1><p>安装和使用都非常简单，安装完后直接运行，加载 swagger json 或者 yaml 文档，就能生成单个 html 文件。</p>
<p>下面是简单的使用方式，还有别的参数可以设置主题等，可以查看官方 github 得到更多信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install pretty-swag -g</span><br><span class="line">pretty-swag -i input.json -o output.html</span><br></pre></td></tr></table></figure>

<p>最后的样子如下，完整示例在<a href="https://bearfly1990.github.io/apidoc/swagger/pretty-swagger.html">这里</a>：<br><img src="/img/post/2018/11/2018-11-29-SwaggerOnePage_01.jpg" alt="pretty-swag"></p>
<h1 id="spectacle"><a href="#spectacle" class="headerlink" title="spectacle"></a><a target="_blank" rel="noopener" href="https://github.com/sourcey/spectacle">spectacle</a></h1><p>spectacle 最后的样式我个人觉得还是不错的，不过貌似 leader 不是很喜欢。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g spectacle-docs</span><br><span class="line">spectacle -d input.json</span><br></pre></td></tr></table></figure>

<p>运行了上述的命令后，会生成一个 public 文件夹，最后的文档就在其中：<br><img src="/img/post/2018/11/2018-11-29-SwaggerOnePage_02.jpg" alt="spectacle folder"></p>
<p>最后的样子如下，完整示例在<a href="https://bearfly1990.github.io/apidoc/swagger/spectacle/">这里</a>：<br><img src="/img/post/2018/11/2018-11-29-SwaggerOnePage_03.jpg" alt="pretty-swag"></p>
<h1 id="bootprint-openapi"><a href="#bootprint-openapi" class="headerlink" title="bootprint-openapi"></a><a target="_blank" rel="noopener" href="https://github.com/bootprint/bootprint-openapi">bootprint-openapi</a></h1><p>没想到最后领导还是喜欢这个样式，哈哈，主要就像他说的，他喜欢 model 的定义。</p>
<p>使用的方法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g bootprint</span><br><span class="line">npm install -g bootprint-openapi</span><br><span class="line">bootprint openapi input.json bootprint-openapi</span><br></pre></td></tr></table></figure>

<p>运行了上述的命令后，会生成一个指定的文件夹，最后的文档就在其中：</p>
<p><img src="/img/post/2018/11/2018-11-29-SwaggerOnePage_04.jpg" alt="spectacle folder"></p>
<p>最后的样子如下，完整示例在<a href="https://bearfly1990.github.io/apidoc/swagger/bootprint-openapi/">这里</a>：<br><img src="/img/post/2018/11/2018-11-29-SwaggerOnePage_05.jpg" alt="pretty-swag"></p>
<h1 id="html-inline"><a href="#html-inline" class="headerlink" title="html-inline"></a><a target="_blank" rel="noopener" href="https://github.com/substack/html-inline">html-inline</a></h1><p>在 bootprint-openapi 项目里就有介绍，这个工具是把分开的 js,css 都合到一个 html 中。</p>
<p>使用方式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm -g install html-inline</span><br><span class="line">html-inline target&#x2F;index.html</span><br></pre></td></tr></table></figure>

<p>我在尝试的过程中发现，他目前只支持本地的引入，也就是说如果用的是在线的 js 库，比如像下面这样的，就不能正确生成。</p>
<p>如果要实现，我想自己应该可以去改一下源代码来实现，多一些判断与资源的获取。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>

<h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>其实 swagger ui 的样式也已经有办法能拿到，就是利用他自己本身的配置，将.json 或者.yaml 直接以对象的形式写进去。</p>
<p>使用的配置是 <code>spec</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> SwaggerUIBundle = <span class="built_in">require</span>(<span class="string">&#x27;swagger-ui-dist&#x27;</span>).SwaggerUIBundle</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ui = SwaggerUIBundle(&#123;</span><br><span class="line">    <span class="comment">//url: &quot;https://petstore.swagger.io/v2/swagger.json&quot;,</span></span><br><span class="line">    spec:&#123;<span class="string">&quot;swagger&quot;</span>:<span class="string">&quot;2.0&quot;</span>,<span class="string">&quot;info&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;This is a sample server Petstore server.  You can find out more about     Swagger at [http://swagger.io](http://swagger.io) or on [irc.freenode.net, #swagger](http://swagger.io/irc/).      For this sample, you can use the api key `special-key` to test the authorization     filters.&quot;</span>,<span class="string">&quot;version&quot;</span>:<span class="string">&quot;1.0.0&quot;</span>,<span class="string">&quot;title&quot;</span>:<span class="string">&quot;Swagger Petstore&quot;</span>,<span class="string">&quot;termsOfService&quot;</span>:<span class="string">&quot;http://swagger.io/terms/&quot;</span>,<span class="string">&quot;contact&quot;</span>:&#123;<span class="string">&quot;email&quot;</span>:<span class="string">&quot;apiteam@swagger.io&quot;</span>&#125;,<span class="string">&quot;license&quot;</span>:&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Apache 2.0&quot;</span>,<span class="string">&quot;url&quot;</span>:<span class="string">&quot;http://www.apache.org/licenses/LICENSE-2.0.html&quot;</span>&#125;&#125;,<span class="string">&quot;host&quot;</span>:<span class="string">&quot;petstore.swagger.io&quot;</span>,<span class="string">&quot;basePath&quot;</span>:<span class="string">&quot;/v2&quot;</span>,<span class="string">&quot;tags&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;pet&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Everything about your Pets&quot;</span>,<span class="string">&quot;externalDocs&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Find out more&quot;</span>,<span class="string">&quot;url&quot;</span>:<span class="string">&quot;http://swagger.io&quot;</span>&#125;&#125;,&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;store&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Access to Petstore orders&quot;</span>&#125;,&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;user&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Operations about user&quot;</span>,<span class="string">&quot;externalDocs&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Find out more about our store&quot;</span>,<span class="string">&quot;url&quot;</span>:<span class="string">&quot;http://swagger.io&quot;</span>&#125;&#125;],<span class="string">&quot;schemes&quot;</span>:[<span class="string">&quot;https&quot;</span>,<span class="string">&quot;http&quot;</span>],<span class="string">&quot;paths&quot;</span>:&#123;<span class="string">&quot;/pet&quot;</span>:&#123;<span class="string">&quot;post&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;pet&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Add a new pet to the store&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;addPet&quot;</span>,<span class="string">&quot;consumes&quot;</span>:[<span class="string">&quot;application/json&quot;</span>,<span class="string">&quot;application/xml&quot;</span>],<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;in&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Pet object that needs to be added to the store&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/Pet&quot;</span>&#125;&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;405&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid input&quot;</span>&#125;&#125;,<span class="string">&quot;security&quot;</span>:[&#123;<span class="string">&quot;petstore_auth&quot;</span>:[<span class="string">&quot;write:pets&quot;</span>,<span class="string">&quot;read:pets&quot;</span>]&#125;]&#125;,<span class="string">&quot;put&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;pet&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Update an existing pet&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;updatePet&quot;</span>,<span class="string">&quot;consumes&quot;</span>:[<span class="string">&quot;application/json&quot;</span>,<span class="string">&quot;application/xml&quot;</span>],<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;in&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Pet object that needs to be added to the store&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/Pet&quot;</span>&#125;&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;400&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid ID supplied&quot;</span>&#125;,<span class="string">&quot;404&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Pet not found&quot;</span>&#125;,<span class="string">&quot;405&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Validation exception&quot;</span>&#125;&#125;,<span class="string">&quot;security&quot;</span>:[&#123;<span class="string">&quot;petstore_auth&quot;</span>:[<span class="string">&quot;write:pets&quot;</span>,<span class="string">&quot;read:pets&quot;</span>]&#125;]&#125;&#125;,<span class="string">&quot;/pet/findByStatus&quot;</span>:&#123;<span class="string">&quot;get&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;pet&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Finds Pets by status&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Multiple status values can be provided with comma separated strings&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;findPetsByStatus&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;status&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;query&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Status values that need to be considered for filter&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;array&quot;</span>,<span class="string">&quot;items&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>,<span class="string">&quot;enum&quot;</span>:[<span class="string">&quot;available&quot;</span>,<span class="string">&quot;pending&quot;</span>,<span class="string">&quot;sold&quot;</span>],<span class="string">&quot;default&quot;</span>:<span class="string">&quot;available&quot;</span>&#125;,<span class="string">&quot;collectionFormat&quot;</span>:<span class="string">&quot;multi&quot;</span>&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;200&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;array&quot;</span>,<span class="string">&quot;items&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/Pet&quot;</span>&#125;&#125;&#125;,<span class="string">&quot;400&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid status value&quot;</span>&#125;&#125;,<span class="string">&quot;security&quot;</span>:[&#123;<span class="string">&quot;petstore_auth&quot;</span>:[<span class="string">&quot;write:pets&quot;</span>,<span class="string">&quot;read:pets&quot;</span>]&#125;]&#125;&#125;,<span class="string">&quot;/pet/findByTags&quot;</span>:&#123;<span class="string">&quot;get&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;pet&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Finds Pets by tags&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Muliple tags can be provided with comma separated strings. Use         tag1, tag2, tag3 for testing.&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;findPetsByTags&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;tags&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;query&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Tags to filter by&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;array&quot;</span>,<span class="string">&quot;items&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,<span class="string">&quot;collectionFormat&quot;</span>:<span class="string">&quot;multi&quot;</span>&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;200&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;array&quot;</span>,<span class="string">&quot;items&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/Pet&quot;</span>&#125;&#125;&#125;,<span class="string">&quot;400&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid tag value&quot;</span>&#125;&#125;,<span class="string">&quot;security&quot;</span>:[&#123;<span class="string">&quot;petstore_auth&quot;</span>:[<span class="string">&quot;write:pets&quot;</span>,<span class="string">&quot;read:pets&quot;</span>]&#125;],<span class="string">&quot;deprecated&quot;</span>:<span class="literal">true</span>&#125;&#125;,<span class="string">&quot;/pet/&#123;petId&#125;&quot;</span>:&#123;<span class="string">&quot;get&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;pet&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Find pet by ID&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Returns a single pet&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;getPetById&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;petId&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;path&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;ID of pet to return&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int64&quot;</span>&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;200&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/Pet&quot;</span>&#125;&#125;,<span class="string">&quot;400&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid ID supplied&quot;</span>&#125;,<span class="string">&quot;404&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Pet not found&quot;</span>&#125;&#125;,<span class="string">&quot;security&quot;</span>:[&#123;<span class="string">&quot;api_key&quot;</span>:[]&#125;]&#125;,<span class="string">&quot;post&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;pet&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Updates a pet in the store with form data&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;updatePetWithForm&quot;</span>,<span class="string">&quot;consumes&quot;</span>:[<span class="string">&quot;application/x-www-form-urlencoded&quot;</span>],<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;petId&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;path&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;ID of pet that needs to be updated&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int64&quot;</span>&#125;,&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;name&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;formData&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Updated name of the pet&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">false</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;status&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;formData&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Updated status of the pet&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">false</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;405&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid input&quot;</span>&#125;&#125;,<span class="string">&quot;security&quot;</span>:[&#123;<span class="string">&quot;petstore_auth&quot;</span>:[<span class="string">&quot;write:pets&quot;</span>,<span class="string">&quot;read:pets&quot;</span>]&#125;]&#125;,<span class="string">&quot;delete&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;pet&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Deletes a pet&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;deletePet&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;api_key&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;header&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">false</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;petId&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;path&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Pet id to delete&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int64&quot;</span>&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;400&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid ID supplied&quot;</span>&#125;,<span class="string">&quot;404&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Pet not found&quot;</span>&#125;&#125;,<span class="string">&quot;security&quot;</span>:[&#123;<span class="string">&quot;petstore_auth&quot;</span>:[<span class="string">&quot;write:pets&quot;</span>,<span class="string">&quot;read:pets&quot;</span>]&#125;]&#125;&#125;,<span class="string">&quot;/pet/&#123;petId&#125;/uploadImage&quot;</span>:&#123;<span class="string">&quot;post&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;pet&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;uploads an image&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;uploadFile&quot;</span>,<span class="string">&quot;consumes&quot;</span>:[<span class="string">&quot;multipart/form-data&quot;</span>],<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;petId&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;path&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;ID of pet to update&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int64&quot;</span>&#125;,&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;additionalMetadata&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;formData&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Additional data to pass to server&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">false</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;file&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;formData&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;file to upload&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">false</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;file&quot;</span>&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;200&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/ApiResponse&quot;</span>&#125;&#125;&#125;,<span class="string">&quot;security&quot;</span>:[&#123;<span class="string">&quot;petstore_auth&quot;</span>:[<span class="string">&quot;write:pets&quot;</span>,<span class="string">&quot;read:pets&quot;</span>]&#125;]&#125;&#125;,<span class="string">&quot;/store/inventory&quot;</span>:&#123;<span class="string">&quot;get&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;store&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Returns pet inventories by status&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Returns a map of status codes to quantities&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;getInventory&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;200&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;object&quot;</span>,<span class="string">&quot;additionalProperties&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int32&quot;</span>&#125;&#125;&#125;&#125;,<span class="string">&quot;security&quot;</span>:[&#123;<span class="string">&quot;api_key&quot;</span>:[]&#125;]&#125;&#125;,<span class="string">&quot;/store/order&quot;</span>:&#123;<span class="string">&quot;post&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;store&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Place an order for a pet&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;placeOrder&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;in&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;order placed for purchasing the pet&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/Order&quot;</span>&#125;&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;200&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/Order&quot;</span>&#125;&#125;,<span class="string">&quot;400&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid Order&quot;</span>&#125;&#125;&#125;&#125;,<span class="string">&quot;/store/order/&#123;orderId&#125;&quot;</span>:&#123;<span class="string">&quot;get&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;store&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Find purchase order by ID&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;For valid response try integer IDs with value &gt;= 1 and &lt;= 10.         Other values will generated exceptions&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;getOrderById&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;orderId&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;path&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;ID of pet that needs to be fetched&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;maximum&quot;</span>:<span class="number">10</span>,<span class="string">&quot;minimum&quot;</span>:<span class="number">1</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int64&quot;</span>&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;200&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/Order&quot;</span>&#125;&#125;,<span class="string">&quot;400&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid ID supplied&quot;</span>&#125;,<span class="string">&quot;404&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Order not found&quot;</span>&#125;&#125;&#125;,<span class="string">&quot;delete&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;store&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Delete purchase order by ID&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;For valid response try integer IDs with positive integer value.         Negative or non-integer values will generate API errors&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;deleteOrder&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;orderId&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;path&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;ID of the order that needs to be deleted&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;minimum&quot;</span>:<span class="number">1</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int64&quot;</span>&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;400&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid ID supplied&quot;</span>&#125;,<span class="string">&quot;404&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Order not found&quot;</span>&#125;&#125;&#125;&#125;,<span class="string">&quot;/user&quot;</span>:&#123;<span class="string">&quot;post&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;user&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Create user&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;This can only be done by the logged in user.&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;createUser&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;in&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Created user object&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/User&quot;</span>&#125;&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;default&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>&#125;&#125;&#125;&#125;,<span class="string">&quot;/user/createWithArray&quot;</span>:&#123;<span class="string">&quot;post&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;user&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Creates list of users with given input array&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;createUsersWithArrayInput&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;in&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;List of user object&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;array&quot;</span>,<span class="string">&quot;items&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/User&quot;</span>&#125;&#125;&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;default&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>&#125;&#125;&#125;&#125;,<span class="string">&quot;/user/createWithList&quot;</span>:&#123;<span class="string">&quot;post&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;user&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Creates list of users with given input array&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;createUsersWithListInput&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;in&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;List of user object&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;array&quot;</span>,<span class="string">&quot;items&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/User&quot;</span>&#125;&#125;&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;default&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>&#125;&#125;&#125;&#125;,<span class="string">&quot;/user/login&quot;</span>:&#123;<span class="string">&quot;get&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;user&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Logs user into the system&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;loginUser&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;username&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;query&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;The user name for login&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;password&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;query&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;The password for login in clear text&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;200&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,<span class="string">&quot;headers&quot;</span>:&#123;<span class="string">&quot;X-Rate-Limit&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int32&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;calls per hour allowed by the user&quot;</span>&#125;,<span class="string">&quot;X-Expires-After&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;date-time&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;date in UTC when token expires&quot;</span>&#125;&#125;&#125;,<span class="string">&quot;400&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid username/password supplied&quot;</span>&#125;&#125;&#125;&#125;,<span class="string">&quot;/user/logout&quot;</span>:&#123;<span class="string">&quot;get&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;user&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Logs out current logged in user session&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;logoutUser&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;default&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>&#125;&#125;&#125;&#125;,<span class="string">&quot;/user/&#123;username&#125;&quot;</span>:&#123;<span class="string">&quot;get&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;user&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Get user by user name&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;getUserByName&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;username&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;path&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;The name that needs to be fetched. Use user1 for testing. &quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;200&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;successful operation&quot;</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/User&quot;</span>&#125;&#125;,<span class="string">&quot;400&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid username supplied&quot;</span>&#125;,<span class="string">&quot;404&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;User not found&quot;</span>&#125;&#125;&#125;,<span class="string">&quot;put&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;user&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Updated user&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;This can only be done by the logged in user.&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;updateUser&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;username&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;path&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;name that need to be updated&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,&#123;<span class="string">&quot;in&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;body&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Updated user object&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/User&quot;</span>&#125;&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;400&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid user supplied&quot;</span>&#125;,<span class="string">&quot;404&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;User not found&quot;</span>&#125;&#125;&#125;,<span class="string">&quot;delete&quot;</span>:&#123;<span class="string">&quot;tags&quot;</span>:[<span class="string">&quot;user&quot;</span>],<span class="string">&quot;summary&quot;</span>:<span class="string">&quot;Delete user&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;This can only be done by the logged in user.&quot;</span>,<span class="string">&quot;operationId&quot;</span>:<span class="string">&quot;deleteUser&quot;</span>,<span class="string">&quot;produces&quot;</span>:[<span class="string">&quot;application/xml&quot;</span>,<span class="string">&quot;application/json&quot;</span>],<span class="string">&quot;parameters&quot;</span>:[&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;username&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;path&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;The name that needs to be deleted&quot;</span>,<span class="string">&quot;required&quot;</span>:<span class="literal">true</span>,<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;],<span class="string">&quot;responses&quot;</span>:&#123;<span class="string">&quot;400&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Invalid username supplied&quot;</span>&#125;,<span class="string">&quot;404&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;User not found&quot;</span>&#125;&#125;&#125;&#125;&#125;,<span class="string">&quot;securityDefinitions&quot;</span>:&#123;<span class="string">&quot;petstore_auth&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;oauth2&quot;</span>,<span class="string">&quot;authorizationUrl&quot;</span>:<span class="string">&quot;http://petstore.swagger.io/oauth/dialog&quot;</span>,<span class="string">&quot;flow&quot;</span>:<span class="string">&quot;implicit&quot;</span>,<span class="string">&quot;scopes&quot;</span>:&#123;<span class="string">&quot;write:pets&quot;</span>:<span class="string">&quot;modify pets in your account&quot;</span>,<span class="string">&quot;read:pets&quot;</span>:<span class="string">&quot;read your pets&quot;</span>&#125;&#125;,<span class="string">&quot;api_key&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;apiKey&quot;</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;api_key&quot;</span>,<span class="string">&quot;in&quot;</span>:<span class="string">&quot;header&quot;</span>&#125;&#125;,<span class="string">&quot;definitions&quot;</span>:&#123;<span class="string">&quot;Order&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;object&quot;</span>,<span class="string">&quot;properties&quot;</span>:&#123;<span class="string">&quot;id&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int64&quot;</span>&#125;,<span class="string">&quot;petId&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int64&quot;</span>&#125;,<span class="string">&quot;quantity&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int32&quot;</span>&#125;,<span class="string">&quot;shipDate&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;date-time&quot;</span>&#125;,<span class="string">&quot;status&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Order Status&quot;</span>,<span class="string">&quot;enum&quot;</span>:[<span class="string">&quot;placed&quot;</span>,<span class="string">&quot;approved&quot;</span>,<span class="string">&quot;delivered&quot;</span>]&#125;,<span class="string">&quot;complete&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;boolean&quot;</span>,<span class="string">&quot;default&quot;</span>:<span class="literal">false</span>&#125;&#125;,<span class="string">&quot;xml&quot;</span>:&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Order&quot;</span>&#125;&#125;,<span class="string">&quot;Category&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;object&quot;</span>,<span class="string">&quot;properties&quot;</span>:&#123;<span class="string">&quot;id&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int64&quot;</span>&#125;,<span class="string">&quot;name&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;&#125;,<span class="string">&quot;xml&quot;</span>:&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Category&quot;</span>&#125;&#125;,<span class="string">&quot;User&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;object&quot;</span>,<span class="string">&quot;properties&quot;</span>:&#123;<span class="string">&quot;id&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int64&quot;</span>&#125;,<span class="string">&quot;username&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,<span class="string">&quot;firstName&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,<span class="string">&quot;lastName&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,<span class="string">&quot;email&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,<span class="string">&quot;password&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,<span class="string">&quot;phone&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,<span class="string">&quot;userStatus&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int32&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;User Status&quot;</span>&#125;&#125;,<span class="string">&quot;xml&quot;</span>:&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;User&quot;</span>&#125;&#125;,<span class="string">&quot;Tag&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;object&quot;</span>,<span class="string">&quot;properties&quot;</span>:&#123;<span class="string">&quot;id&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int64&quot;</span>&#125;,<span class="string">&quot;name&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;&#125;,<span class="string">&quot;xml&quot;</span>:&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Tag&quot;</span>&#125;&#125;,<span class="string">&quot;Pet&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;object&quot;</span>,<span class="string">&quot;required&quot;</span>:[<span class="string">&quot;name&quot;</span>,<span class="string">&quot;photoUrls&quot;</span>],<span class="string">&quot;properties&quot;</span>:&#123;<span class="string">&quot;id&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int64&quot;</span>&#125;,<span class="string">&quot;category&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/Category&quot;</span>&#125;,<span class="string">&quot;name&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>,<span class="string">&quot;example&quot;</span>:<span class="string">&quot;doggie&quot;</span>&#125;,<span class="string">&quot;photoUrls&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;array&quot;</span>,<span class="string">&quot;xml&quot;</span>:&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;photoUrl&quot;</span>,<span class="string">&quot;wrapped&quot;</span>:<span class="literal">true</span>&#125;,<span class="string">&quot;items&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;&#125;,<span class="string">&quot;tags&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;array&quot;</span>,<span class="string">&quot;xml&quot;</span>:&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;tag&quot;</span>,<span class="string">&quot;wrapped&quot;</span>:<span class="literal">true</span>&#125;,<span class="string">&quot;items&quot;</span>:&#123;<span class="string">&quot;$ref&quot;</span>:<span class="string">&quot;#/definitions/Tag&quot;</span>&#125;&#125;,<span class="string">&quot;status&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>,<span class="string">&quot;description&quot;</span>:<span class="string">&quot;pet status in the store&quot;</span>,<span class="string">&quot;enum&quot;</span>:[<span class="string">&quot;available&quot;</span>,<span class="string">&quot;pending&quot;</span>,<span class="string">&quot;sold&quot;</span>]&#125;&#125;,<span class="string">&quot;xml&quot;</span>:&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Pet&quot;</span>&#125;&#125;,<span class="string">&quot;ApiResponse&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;object&quot;</span>,<span class="string">&quot;properties&quot;</span>:&#123;<span class="string">&quot;code&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;integer&quot;</span>,<span class="string">&quot;format&quot;</span>:<span class="string">&quot;int32&quot;</span>&#125;,<span class="string">&quot;type&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;,<span class="string">&quot;message&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>&#125;&#125;&#125;&#125;,<span class="string">&quot;externalDocs&quot;</span>:&#123;<span class="string">&quot;description&quot;</span>:<span class="string">&quot;Find out more about Swagger&quot;</span>,<span class="string">&quot;url&quot;</span>:<span class="string">&quot;http://swagger.io&quot;</span>&#125;&#125;,</span><br><span class="line">    dom_id: <span class="string">&#x27;#swagger-ui&#x27;</span>,</span><br><span class="line">    presets: [</span><br><span class="line">      SwaggerUIBundle.presets.apis,</span><br><span class="line">      SwaggerUIBundle.SwaggerUIStandalonePreset</span><br><span class="line">    ],</span><br><span class="line">    layout: <span class="string">&quot;StandaloneLayout&quot;</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>能想到的暂时就这几个办法，有发现更好的就继续更新。</p>
<hr>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://apihandyman.io/writing-openapi-swagger-specification-tutorial-part-1-introduction/">Writing OpenAPI (Swagger) Specification Tutorial</a></li>
<li><a target="_blank" rel="noopener" href="https://www.gitbook.com/book/huangwenchao/swagger/details">Swagger 从入门到精通</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md">OpenAPI Specification 2.0</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/25800493/converting-swagger-specification-json-to-html-documentation">Converting Swagger specification JSON to HTML documentation</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-11-26T16:00:00.000Z" title="2018/11/27 上午12:00:00">2018-11-27</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-09-08T15:43:26.383Z" title="2020/9/8 下午11:43:26">2020-09-08</time></span><span class="level-item"> BF </span><span class="level-item">6 minutes read (About 832 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/11/27/2018/11/2018-11-27-SwaggerSpringBoot/">Swagger in SpringBoot</a></h1><div class="content"><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>前两天提到项目组打算用 swagger 来做为 RESTful API 的解决方案，现在已经确定下来了。</p>
<p>之前看到有文章介绍 SpringBoot 中结合 Swagger 直接生成文档的方法，今天尝试了一下，入门还是比较简单的。</p>
<h1 id="建立-Maven-工程"><a href="#建立-Maven-工程" class="headerlink" title="建立 Maven 工程"></a>建立 Maven 工程</h1><p>我们使用 Maven 管理 jar 包依赖，网上有许多的教程，就不赘述。今天在配置环境的时候，看到有一个阿里云的镜像，可以记录一下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="引入相关依赖"><a href="#引入相关依赖" class="headerlink" title="引入相关依赖"></a>引入相关依赖</h2><p>完整的配置请看<a target="_blank" rel="noopener" href="https://github.com/bearfly1990/PowerScript/blob/master/Java/Swagger/pom.xml">pom.xml</a></p>
<h3 id="SpringBoot-相关"><a href="#SpringBoot-相关" class="headerlink" title="SpringBoot 相关"></a>SpringBoot 相关</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span> /&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">fork</span>&gt;</span>true<span class="tag">&lt;/<span class="name">fork</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Swagger-相关依赖"><a href="#Swagger-相关依赖" class="headerlink" title="Swagger 相关依赖"></a>Swagger 相关依赖</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- swagger2 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="热启动"><a href="#热启动" class="headerlink" title="热启动"></a>热启动</h3><p>通过下面的片段来开启了热启动，代码更新后自动重启，方便很多。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">fork</span>&gt;</span>true<span class="tag">&lt;/<span class="name">fork</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="创建-Swagger2-配置类"><a href="#创建-Swagger2-配置类" class="headerlink" title="创建 Swagger2 配置类"></a>创建 Swagger2 配置类</h1><p>在 SpringBoot 主类同级目录下新建 Swagger 的配置类如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Swagger2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">createRestApi</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;fun.bearfly&quot;</span>))</span><br><span class="line">                .paths(PathSelectors.any())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ApiInfo <span class="title">apiInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiInfoBuilder()</span><br><span class="line">                .title(<span class="string">&quot;Generate RESTful APIs with Spring Boot and Swagger2 &quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;More info please see:https://bearfly1990.github.io/&quot;</span>)</span><br><span class="line">                .termsOfServiceUrl(<span class="string">&quot;https://bearfly1990.github.io/&quot;</span>)</span><br><span class="line">                .contact(<span class="string">&quot;bearfly1990&quot;</span>)</span><br><span class="line">                .version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Controller-中的注解"><a href="#Controller-中的注解" class="headerlink" title="Controller 中的注解"></a>Controller 中的注解</h1><p>接口文档的信息通过注解来写入，所以就放在 Controller 这一层。</p>
<p>下面的代码主要模拟了对单词的 CRUD 操作，每个接口都有对应的接口注释，通过@ApiOperation， @ApiImplicitParam 等注解来实现，这个我之前的文章有提到：<a href="https://bearfly1990.github.io/2018/11/25/Swagger/#%E4%BB%A3%E7%A0%81%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8">Swagger#代码中的使用</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(value=&quot;/ewords&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EWordController</span> </span>&#123;</span><br><span class="line">	<span class="keyword">static</span> Map&lt;Long, EWord&gt; ewordsMap = Collections.synchronizedMap(<span class="keyword">new</span> HashMap&lt;Long, EWord&gt;());</span><br><span class="line"></span><br><span class="line">	<span class="meta">@ApiOperation(value=&quot;HelloWorld&quot;, notes=&quot;&quot;)</span></span><br><span class="line">	<span class="meta">@RequestMapping(value=&quot;helloworld&quot;, method=RequestMethod.GET)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;hello, world!&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value=&quot;GetEword&quot;, notes=&quot;&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value=&#123;&quot;&quot;&#125;, method=RequestMethod.GET)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;EWord&gt; <span class="title">getEWordList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;EWord&gt; ewords = <span class="keyword">new</span> ArrayList&lt;EWord&gt;(ewordsMap.values());</span><br><span class="line">        <span class="keyword">return</span> ewords;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value=&quot;CreateEword&quot;, notes=&quot;Create Eword by Eword&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParam(name = &quot;eword&quot;, value = &quot;user domain&quot;, required = true, dataType = &quot;EWord&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value=&quot;&quot;, method=RequestMethod.POST)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">postEWord</span><span class="params">(<span class="meta">@RequestBody</span> EWord eword)</span> </span>&#123;</span><br><span class="line">    	ewordsMap.put(eword.getId(), eword);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value=&quot;GetEwordDetails&quot;, notes=&quot;Get eword by id&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParam(name = &quot;id&quot;, value = &quot;ewordID&quot;, required = true, dataType = &quot;Long&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value=&quot;/&#123;id&#125;&quot;, method=RequestMethod.GET)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> EWord <span class="title">getEWord</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ewordsMap.get(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value=&quot;UpdateEwordInfo&quot;, notes=&quot;Update eword by id&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParams(&#123;</span></span><br><span class="line"><span class="meta">            @ApiImplicitParam(name = &quot;id&quot;, value = &quot;ewordID&quot;, required = true, dataType = &quot;Long&quot;),</span></span><br><span class="line"><span class="meta">            @ApiImplicitParam(name = &quot;user&quot;, value = &quot;ewordDomain&quot;, required = true, dataType = &quot;EWord&quot;)</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value=&quot;/&#123;id&#125;&quot;, method=RequestMethod.PUT)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">putEWord</span><span class="params">(<span class="meta">@PathVariable</span> Long id, <span class="meta">@RequestBody</span> EWord newUser)</span> </span>&#123;</span><br><span class="line">        EWord eword = ewordsMap.get(id);</span><br><span class="line">        eword.setCnWord(newUser.getCnWord());</span><br><span class="line">        eword.setEnWord(newUser.getEnWord());</span><br><span class="line">        ewordsMap.put(id, eword);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(value=&quot;DeleteEword&quot;, notes=&quot;Delete eword by id&quot;)</span></span><br><span class="line">    <span class="meta">@ApiImplicitParam(name = &quot;id&quot;, value = &quot;ewordID&quot;, required = true, dataType = &quot;Long&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(value=&quot;/&#123;id&#125;&quot;, method=RequestMethod.DELETE)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">deleteEWord</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> </span>&#123;</span><br><span class="line">        ewordsMap.remove(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="生成文档"><a href="#生成文档" class="headerlink" title="生成文档"></a>生成文档</h1><p>上面的配置与代码完成后，直接启动 SpringBoot，访问：<a target="_blank" rel="noopener" href="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a> 就能查看文档了。</p>
<p><img src="/img/post/2018/11/2018-11-27-SwaggerSpringBoot.jpg" alt="swagger-ui"></p>
<p>搞定~</p>
<p>工程目录：<a target="_blank" rel="noopener" href="https://github.com/bearfly1990/PowerScript/tree/master/Java/workspace/swagger">https://github.com/bearfly1990/PowerScript/tree/master/Java/workspace/swagger</a></p>
<hr>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8033ef83a8ed">深入理解 RPC : 基于 Python 自建分布式高并发 RPC 服务</a> - 程序猿 DD</li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/ityouknow/p/5662753.html">构建微服务：Spring boot 入门篇</a> - 微信公众号：纯洁的微笑</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-11-25T16:00:00.000Z" title="2018/11/26 上午12:00:00">2018-11-26</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-11-26T16:30:53.539Z" title="2018/11/27 上午12:30:53">2018-11-27</time></span><span class="level-item"> BF </span><span class="level-item">14 minutes read (About 2061 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/11/26/2018/11/2018-11-26-PygRPC/">Python gRPC</a></h1><div class="content"><h1 id="RPC"><a href="#RPC" class="headerlink" title="RPC"></a>RPC</h1><p>RPC（Remote Procedure Call）—远程过程调用，它是一种通过网络从远程计算机程序上请求服务，而不需要了解底层网络技术的协议。RPC 协议假定某些传输协议的存在，如 TCP 或 UDP，为通信程序之间携带信息数据。在 OSI 网络通信模型中，RPC 跨越了传输层和应用层。RPC 使得开发包括网络分布式多程序在内的应用程序更加容易。</p>
<h2 id="RPC-架构"><a href="#RPC-架构" class="headerlink" title="RPC 架构"></a>RPC 架构</h2><p>先说说 RPC 服务的基本架构。一个完整的 RPC 架构里面包含了四个核心的组件，分别是 Client ,Server,Client Stub 以及 Server Stub，这个 Stub 可以理解为存根。分别说说这几个组件：</p>
<ul>
<li>客户端（Client），服务的调用方。</li>
<li>服务端（Server），真正的服务提供者。</li>
<li>客户端存根，存放服务端的地址消息，再将客户端的请求参数打包成网络消息，然后通过网络远程发送给服务方。</li>
<li>服务端存根，接收客户端发送过来的消息，将消息解包，并调用本地的方法。</li>
</ul>
<p>RPC 主要是用在大型企业里面，因为大型企业里面系统繁多，业务线复杂，而且效率优势非常重要的一块，这个时候 RPC 的优势就比较明显了。</p>
<p>项目一般使用 maven 来管理。比如一个处理订单的系统服务，先声明它的所有的接口（i.e. Java 中的 interface），然后将整个项目打包为一个 jar 包，服务端这边引入这个二方库，然后实现相应的功能，客户端这边也只需要引入这个二方库即可调用了。</p>
<p>为什么这么做？主要是为了减少客户端这边的 jar 包大小，因为每一次打包发布的时候，jar 包太多总是会影响效率。另外也是将客户端和服务端解耦，提高代码的可移植性。</p>
<h1 id="HTTP-and-RPC"><a href="#HTTP-and-RPC" class="headerlink" title="HTTP and RPC"></a>HTTP and RPC</h1><p>理论上来说 RPC 能实现的功能， 用 HTTP 也能实现，那它们的区别是什么？什么情况下使用 RPC？</p>
<p>他们最本质的区别是 RPC 主要是基于 TCP/IP 协议的，而 HTTP 服务主要是基于 HTTP 协议的，我们都知道 HTTP 协议是在传输层协议 TCP 之上的，所以效率上来看的话，RPC 是更优的。</p>
<h2 id="OSI-网络七层模型"><a href="#OSI-网络七层模型" class="headerlink" title="OSI 网络七层模型"></a>OSI 网络七层模型</h2><p>回顾一下 OSI 的七层网络结构模型（实际应用中基本上都是五层），它可以分为以下几层： （从上到下）</p>
<ul>
<li>第一层：应用层。定义了用于在网络中进行通信和传输数据的接口；</li>
<li>第二层：表示层。定义不同的系统中数据的传输格式，编码和解码规范等；</li>
<li>第三层：会话层。管理用户的会话，控制用户间逻辑连接的建立和中断；</li>
<li>第四层：传输层。管理着网络中的端到端的数据传输；</li>
<li>第五层：网络层。定义网络设备间如何传输数据；</li>
<li>第六层：链路层。将上面的网络层的数据包封装成数据帧，便于物理层传输；</li>
<li>第七层：物理层。这一层主要就是传输这些二进制数据。<br>实际应用过程中，五层协议结构里面是没有表示层和会话层的。应该说它们和应用层合并了。我们应该将重点放在应用层和传输层这两个层面。因为 HTTP 是应用层协议，而 TCP 是传输层协议。知道了网络的分层模型以后我们可以更好地理解为什么 RPC 服务相比 HTTP 服务要好一些！</li>
</ul>
<h1 id="RPC-流行框架"><a href="#RPC-流行框架" class="headerlink" title="RPC 流行框架"></a>RPC 流行框架</h1><p>Google 开源了 gRPC，Facebook 开源了 Thrift，Twitter 开源了 Finagle，百度开源了 bRPC，腾讯开源了 Tars，阿里开源了 Dubbo 和 HSF，新浪开源了 Motan 等，这些互联网公司在解决分布式高并发业务问题的同时，也向外界展示自己的技术实力。</p>
<ul>
<li><code>gRPC</code> 是 Google 公布的开源软件，基于最新的 HTTP2.0 协议，并支持常见的众多编程语言。 我们知道 HTTP2.0 是基于二进制的 HTTP 协议升级版本，目前各大浏览器都在快马加鞭的加以支持。 这个 RPC 框架是基于 HTTP 协议实现的，底层使用到了 Netty 框架的支持。</li>
<li><code>Thrift</code> 是 Facebook 的一个开源项目，主要是一个跨语言的服务开发框架。它有一个代码生成器来对它所定义的 IDL 定义文件自动生成服务代码框架。用户只要在其之前进行二次开发就行，对于底层的 RPC 通讯等都是透明的。不过这个对于用户来说的话需要学习特定领域语言这个特性，还是有一定成本的。</li>
<li><code>HSF</code> 全称为 High-Speed Service Framework，旨在为淘系的应用提供一个分布式的服务框架，HSF 从分布式应用层面以及统一的发布/调用方式层面为大家提供支持，从而可以很容易的开发分布式的应用以及提供或使用公用功能模块，而不用考虑分布式领域中的各种细节技术，例如远程通讯、性能损耗、调用的透明化、同步/异步调用方式的实现等等问题。</li>
</ul>
<h1 id="gRPC-Demo-on-Python"><a href="#gRPC-Demo-on-Python" class="headerlink" title="gRPC Demo on Python"></a>gRPC Demo on Python</h1><h2 id="Install-gRPC-python-lib"><a href="#Install-gRPC-python-lib" class="headerlink" title="Install gRPC python lib"></a>Install gRPC python lib</h2><p>可以直接通过 pip 来安装相关的第三方库：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install grpcio</span><br><span class="line">pip install protobuf</span><br><span class="line">pip install grpcio-tools</span><br></pre></td></tr></table></figure>

<h2 id="Define-gRPC-interface"><a href="#Define-gRPC-interface" class="headerlink" title="Define gRPC interface"></a>Define gRPC interface</h2><p>编写接口文件 data.proto：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">syntax &#x3D; &quot;proto3&quot;;</span><br><span class="line">package demo;</span><br><span class="line">service AddNumber &#123;</span><br><span class="line">  rpc do_add(data) returns (data)&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">message data &#123;</span><br><span class="line">  string text &#x3D; 2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如上所示，设计了 service AddNumber，调用的方法为 do_add，参数为 data，内容为字符串格式。</p>
<h2 id="Build-protobuf"><a href="#Build-protobuf" class="headerlink" title="Build protobuf:"></a>Build protobuf:</h2><p>编译 protobuf， 然后会生成两个文件 data_pb2.py 和 data_pb2_grpc.py：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m grpc_tools.protoc -I. --python_out=. --grpc_python_out=. ./data.proto</span><br></pre></td></tr></table></figure>

<h2 id="Server"><a href="#Server" class="headerlink" title="Server"></a>Server</h2><p>主要为注册服务，实现业务逻辑和返回的数据，这里就调用了上一步编译出来的两个 modules</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> grpc</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> data_pb2, data_pb2_grpc</span><br><span class="line"><span class="keyword">from</span> concurrent <span class="keyword">import</span> futures</span><br><span class="line"></span><br><span class="line">ONE_DAY_IN_SECONDS = <span class="number">3600</span> * <span class="number">24</span></span><br><span class="line">HOST = <span class="string">&#x27;localhost&#x27;</span></span><br><span class="line">PORT = <span class="string">&#x27;8888&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AddNumber</span>(<span class="params">data_pb2_grpc.AddNumberServicer</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_add</span>(<span class="params">self, request, context</span>):</span></span><br><span class="line">        txt = request.text</span><br><span class="line">        txt = <span class="built_in">str</span>(<span class="built_in">int</span>(txt) + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> data_pb2.data(text = txt)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">start_server</span>():</span></span><br><span class="line">    grpcServer = grpc.server(futures.ThreadPoolExecutor(max_workers=<span class="number">4</span>))</span><br><span class="line">    <span class="comment"># 这里将AddNumber这个类的实例注册进了服务</span></span><br><span class="line">    data_pb2_grpc.add_AddNumberServicer_to_server(AddNumber(), grpcServer)</span><br><span class="line">    grpcServer.add_insecure_port(HOST + <span class="string">&#x27;:&#x27;</span> + PORT)</span><br><span class="line">    grpcServer.start()</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            time.sleep(ONE_DAY_IN_SECONDS)</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">        grpcServer.stop(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    start_server()</span><br></pre></td></tr></table></figure>

<h2 id="Client"><a href="#Client" class="headerlink" title="Client"></a>Client</h2><p>这里对应编写了主机和端口，然后使用 AddNumberStub 服务，调用 do_add 方法。</p>
<p>在服务端那么便会执行对应的操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> grpc</span><br><span class="line"><span class="keyword">import</span> data_pb2, data_pb2_grpc</span><br><span class="line"></span><br><span class="line">HOST = <span class="string">&#x27;localhost&#x27;</span></span><br><span class="line">PORT = <span class="string">&#x27;8888&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span>():</span></span><br><span class="line">	conn = grpc.insecure_channel(HOST + <span class="string">&#x27;:&#x27;</span> + PORT)</span><br><span class="line">	client = data_pb2_grpc.AddNumberStub(channel=conn)</span><br><span class="line">	response = client.do_add(data_pb2.data(text=<span class="string">&#x27;3&#x27;</span>))</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;received: &quot;</span> + response.text)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">	run()</span><br></pre></td></tr></table></figure>

<p>下面是运行 client 的结果：</p>
<p>传过去的是 3，通过+1 最后得到的是 4</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Users\mayn\Desktop\gRPC_Demo&gt; python client.py</span><br><span class="line">received: 4</span><br></pre></td></tr></table></figure>

<h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>RPC 实现的细节还有很多，包括序列化与反序列化，动态代理，网络通信NIO等，有机会再深入研究下。</p>
<hr>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/bearfly1990/PowerScript/tree/master/RPC/py_gRPC_Demo">https://github.com/bearfly1990/PowerScript/tree/master/RPC/py_gRPC_Demo</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/iodjSVf8U1J7KYc/article/details/80681627">深入理解 RPC : 基于 Python 自建分布式高并发 RPC 服务</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/14e6f5217f40">Python RPC 之 gRPC</a> - 谢烟客</li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyunpeng0319/article/details/78651998">RPC 服务和 HTTP 服务对比</a> - wangyunpeng0319</li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_16681169/article/details/72512819">HSF 的原理分析</a> - zxcodestudy</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-11-24T16:00:00.000Z" title="2018/11/25 上午12:00:00">2018-11-25</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-11-27T16:42:54.853Z" title="2018/11/28 上午12:42:54">2018-11-28</time></span><span class="level-item"> BF </span><span class="level-item">9 minutes read (About 1280 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/11/25/2018/11/2018-11-22-Swagger/">Swagger</a></h1><div class="content"><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>项目组最近新开发一套 RESTful API，需要对应的 API 文档，其实之前我有用 <a target="_blank" rel="noopener" href="http://apidocjs.com/">apidoc</a> 作为方案给大家看过。</p>
<p>感觉还好，也是可以直接写成注释放在代码里最后生成。但能感受到它属于轻量级的，内容相对自由，灵活度很大，但也意味着更容易犯错。</p>
<p>不过最后上面还是决定使用 <a target="_blank" rel="noopener" href="https://swagger.io/">swagger</a> 这一套东西，所以简单的看了下，功能果然成强大，显得更 professionnal 一些。</p>
<p>下面就罗列下我目前掌握的一些信息，其实学习 swagger 的过程就是学习 RESTful API 的过程。</p>
<h1 id="Swagger"><a href="#Swagger" class="headerlink" title="Swagger"></a>Swagger</h1><p>Swagger 是一个规范和完整的框架，用于生成、描述、调用和可视化 RESTful 风格的 Web 服务。总体目标是使客户端和文件系统作为服务器以同样的速度来更新 。</p>
<p>接口的方法，参数和模型紧密集成到服务器端的代码，允许 API 来始终保持同步。</p>
<p>Swagger 让部署管理和使用功能强大的 API 从未如此简单。</p>
<h1 id="Swagger-UI"><a href="#Swagger-UI" class="headerlink" title="Swagger UI"></a>Swagger UI</h1><p>我们先来看一看最后文档的样子，下面是官方的 <a target="_blank" rel="noopener" href="https://swagger.io/tools/swagger-ui/">Live Demo</a>， 大家可以感受一下。<br><img src="/img/post/2018/11/2018-11-22-Swagger-ui.gif" alt="Swagger UI"></p>
<p>Swagger UI 主要用来通过读取对应的 YAML/JSON 文件，来解析并展示 “漂亮”的 api 文档，效果还是不错的，相当于前端展示功能。</p>
<p>它的 github 地址<a target="_blank" rel="noopener" href="https://github.com/swagger-api/swagger-ui">https://github.com/swagger-api/swagger-ui</a></p>
<p>可以下载之后，在本地放在 http server 下直接使用，当然也可以二次开发，具体内容请看官方的 ReadMe。</p>
<h1 id="Swagger-Editor"><a href="#Swagger-Editor" class="headerlink" title="Swagger Editor"></a>Swagger Editor</h1><p>那么另外一个项目<a target="_blank" rel="noopener" href="https://github.com/swagger-api/swagger-editor">https://github.com/swagger-api/swagger-editor</a> 便是用来编写文档的。</p>
<p>它采用的是 YAML 语法，所以可以丰富的表达许多内容。下面是官方的<a target="_blank" rel="noopener" href="https://swagger.io/tools/swagger-editor/">Live Demo</a>，其实很多细节内容在这边就可以学习到，它的样例就已经很丰富。</p>
<p>Editor 也可以下载来到本地使用，但是需要 Node.js的支持，具体请参考官方 ReadMe。<br><img src="/img/post/2018/11/2018-11-22-Swagger-editor.jpg" alt="Swagger Editor"></p>
<h1 id="代码中的使用"><a href="#代码中的使用" class="headerlink" title="代码中的使用"></a>代码中的使用</h1><p>通过一定的配置（需要继续研究），可以通过注解的方式(主要以 java 为例)，可以生成 api 文档，甚至可以直接调试。</p>
<table>
<thead>
<tr>
<th align="center">作用范围</th>
<th align="center">API</th>
<th align="right">使用位置</th>
</tr>
</thead>
<tbody><tr>
<td align="center">对象属性</td>
<td align="center">@ApiModelProperty</td>
<td align="right">用在出入参数对象的字段上</td>
</tr>
<tr>
<td align="center">协议集描述</td>
<td align="center">@Api</td>
<td align="right">用于 controller 类上</td>
</tr>
<tr>
<td align="center">协议描述</td>
<td align="center">@ApiOperation</td>
<td align="right">用在 controller 的方法上</td>
</tr>
<tr>
<td align="center">Response 集</td>
<td align="center">@ApiResponses</td>
<td align="right">用在 controller 的方法上</td>
</tr>
<tr>
<td align="center">Response</td>
<td align="center">@ApiResponse</td>
<td align="right">用在 @ApiResponses 里边</td>
</tr>
<tr>
<td align="center">非对象参数集</td>
<td align="center">@ApiImplicitParams</td>
<td align="right">用在 controller 的方法上</td>
</tr>
<tr>
<td align="center">非对象参数描述</td>
<td align="center">@ApiImplicitParam</td>
<td align="right">用在@ApiImplicitParams 的方法里边</td>
</tr>
<tr>
<td align="center">描述返回对象的意义</td>
<td align="center">@ApiModel</td>
<td align="right">用在返回对象类上</td>
</tr>
</tbody></table>
<h2 id="Samples"><a href="#Samples" class="headerlink" title="Samples"></a>Samples</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ApiOperation(&quot;信息软删除&quot;)</span></span><br><span class="line"><span class="meta">@ApiResponses(&#123; @ApiResponse(code = CommonStatus.OK, message = &quot;操作成功&quot;),</span></span><br><span class="line"><span class="meta">        @ApiResponse(code = CommonStatus.EXCEPTION, message = &quot;服务器内部异常&quot;),</span></span><br><span class="line"><span class="meta">        @ApiResponse(code = CommonStatus.FORBIDDEN, message = &quot;权限不足&quot;) &#125;)</span></span><br><span class="line"><span class="meta">@ApiImplicitParams(&#123; @ApiImplicitParam(paramType = &quot;query&quot;, dataType = &quot;Long&quot;, name = &quot;id&quot;, value = &quot;信息id&quot;, required = true) &#125;)</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/remove.json&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> RestfulProtocol <span class="title">remove</span><span class="params">(Long id)</span> </span>&#123;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ApiModelProperty(value = &quot;标题&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String  title;</span><br></pre></td></tr></table></figure>

<h2 id="ApiImplicitParam"><a href="#ApiImplicitParam" class="headerlink" title="@ApiImplicitParam"></a>@ApiImplicitParam</h2><table>
<thead>
<tr>
<th align="center">属性</th>
<th align="center">取值</th>
<th align="right">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">paramType</td>
<td align="center"></td>
<td align="right">查询参数类型</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">path</td>
<td align="right">以地址的形式提交数据</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">query</td>
<td align="right">直接跟参数完成自动映射赋值</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">body</td>
<td align="right">以流的形式提交 仅支持 POST</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">header</td>
<td align="right">参数在 request headers 里边提交</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">form</td>
<td align="right">以 form 表单的形式提交 仅支持 POST</td>
</tr>
<tr>
<td align="center">dataType</td>
<td align="center"></td>
<td align="right">参数的数据类型 只作为标志说明，并没有实际验证</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">Long</td>
<td align="right"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center">String</td>
<td align="right"></td>
</tr>
<tr>
<td align="center">name</td>
<td align="center"></td>
<td align="right">接收参数名</td>
</tr>
<tr>
<td align="center">value</td>
<td align="center"></td>
<td align="right">接收参数的意义描述</td>
</tr>
<tr>
<td align="center">required</td>
<td align="center"></td>
<td align="right">参数是否必填</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">true</td>
<td align="right">必填</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">false</td>
<td align="right">非必填</td>
</tr>
<tr>
<td align="center">defaultValue</td>
<td align="center"></td>
<td align="right">默认值</td>
</tr>
</tbody></table>
<h3 id="paramType-示例"><a href="#paramType-示例" class="headerlink" title="paramType 示例"></a>paramType 示例</h3><h4 id="path"><a href="#path" class="headerlink" title="path"></a>path</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/findById1/&#123;id&#125;&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)</span></span><br><span class="line"><span class="meta">@PathVariable(name = &quot;id&quot;)</span> Long id</span><br></pre></td></tr></table></figure>

<h4 id="body"><a href="#body" class="headerlink" title="body"></a>body</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ApiImplicitParams(&#123; @ApiImplicitParam(paramType = &quot;body&quot;, dataType = &quot;MessageParam&quot;, name = &quot;param&quot;, value = &quot;信息参数&quot;, required = true) &#125;)</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/findById3&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_UTF8_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)</span></span><br><span class="line"><span class="meta">@RequestBody</span> MessageParam param</span><br></pre></td></tr></table></figure>

<p>提交的参数是这个对象的一个 json，然后会自动解析到对应的字段上去，也可以通过流的形式接收当前的请求数据，但是这个和上面的接收方式仅能使用一个（用@RequestBody 之后流就会关闭了）</p>
<h4 id="header"><a href="#header" class="headerlink" title="header"></a>header</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ApiImplicitParams(&#123; @ApiImplicitParam(paramType = &quot;header&quot;, dataType = &quot;Long&quot;, name = &quot;id&quot;, value = &quot;信息id&quot;, required = true) &#125;)</span></span><br><span class="line"></span><br><span class="line">String idstr = request.getHeader(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (StringUtils.isNumeric(idstr)) &#123;</span><br><span class="line">        id = Long.parseLong(idstr);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="Form"><a href="#Form" class="headerlink" title="Form"></a>Form</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ApiImplicitParams(&#123; @ApiImplicitParam(paramType = &quot;form&quot;, dataType = &quot;Long&quot;, name = &quot;id&quot;, value = &quot;信息id&quot;, required = true) &#125;)</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/findById5&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_UTF8_VAL</span></span><br></pre></td></tr></table></figure>

<h2 id="SpringMVC-集成-Swagger-插件以及-Swagger-注解的简单使用"><a href="#SpringMVC-集成-Swagger-插件以及-Swagger-注解的简单使用" class="headerlink" title="SpringMVC 集成 Swagger 插件以及 Swagger 注解的简单使用"></a>SpringMVC 集成 Swagger 插件以及 Swagger 注解的简单使用</h2><p>我发现一篇不错的文章，有时间试一下。</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/67c9b84226cd">SpringMVC 集成 Swagger 插件以及 Swagger 注解的简单使用</a></p>
<h1 id="未完待续，保持更新。"><a href="#未完待续，保持更新。" class="headerlink" title="未完待续，保持更新。"></a>未完待续，保持更新。</h1><hr>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/xupeng874395012/article/details/68946676">swagger注释API详细说明</a></li>
<li><a target="_blank" rel="noopener" href="https://swagger.io/">https://swagger.io/</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-11-20T16:00:00.000Z" title="2018/11/21 上午12:00:00">2018-11-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-09-08T15:43:26.380Z" title="2020/9/8 下午11:43:26">2020-09-08</time></span><span class="level-item"> BF </span><span class="level-item">15 minutes read (About 2250 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/11/21/2018/11/2018-11-21-WorkDiary-01/">Work Diary (01)</a></h1><div class="content"><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>昨天有一个重要的测试任务，感觉可以做的更好，有一些点可以稍微总结分析一下，作为参考。</p>
<h1 id="主要任务"><a href="#主要任务" class="headerlink" title="主要任务"></a>主要任务</h1><p>由于客户遇到了相对严重的问题（在极端情况下，客户及本地无法重现），这次需要修复（根据分析 Log 与代码，得到修复方案），并根据客户需求增加了 log 的输出。</p>
<p>可测版本在昨天中午准备就绪，大约 1 点钟左右开始正式测试。</p>
<p>主要测试点为：</p>
<ul>
<li>冒烟及回归测试，保证新的版本没有影响原来的功能。（包括将一些参数设长，如 timeout 的时间，保证没有意外错误）</li>
<li>通过特殊代码，主动触发 bug，检测能否 catch 到，保证客户方面再出现这方面的情况，不会再出来重大错误。</li>
<li>通过设置特殊参数，使系统容易触发异常，并测试在参数正常情况下，重置服务后能否修复并继续执行任务。</li>
<li>etc…</li>
<li><strong>测试新增的 Log 功能</strong></li>
<li><strong>测试新的改动尤其是 Log 功能对性能的影响</strong></li>
</ul>
<h1 id="测试过程回顾与分析"><a href="#测试过程回顾与分析" class="headerlink" title="测试过程回顾与分析"></a>测试过程回顾与分析</h1><p>首先第一点，自己没做好的是没有制定详细的测试计划。 虽然在小本本上有简单罗列测试要点，但没有完整的 Test Cases 列表，导致后续测试工作“无法可依”，尤其是在遇到问题的情况下，容易思路混淆。</p>
<p>至少提前一天已经知道大概的测试内容，但还是小看了相关测试的复杂度与可能遇到的问题。</p>
<p><strong>至下午 5 点</strong>左右，除 Log 相关功能外，其它测试点基本完成。</p>
<h2 id="出不来的-Log"><a href="#出不来的-Log" class="headerlink" title="出不来的 Log"></a>出不来的 Log</h2><p>当时把 Log 功能放到最后，是因为与开发人员沟通过，觉得功能实现简单，相对容易测试，所以认为优先级最低（结果证明出问题的就是这边，尴尬）。</p>
<p>开始测试 Log 功能之后，便一直发现不能得到预期的结果，开始怀疑功能有问题，开始与开发人员一同查看。</p>
<p>这边就涉及到一个问题，就是开发人员一直认为是配置与运行使用的问题，所以一直在尝试重启，配置，运行的过程，所以耗费了不少时间。</p>
<p>主要是我本身对这个功能模块不是很熟悉，所以只能不断根据开发人员的建议配置与重试，但仍然无法成功，此时已将近 <strong>7 点</strong>左右。</p>
<blockquote>
<p>这次的增加的 Log 功能是基于原先已有的模块，增加了输出的内容，原计划是在 Debug 级别配置。</p>
</blockquote>
<p>最后，向原先熟悉相关模块的开发人员寻求帮忙与确认后，找到了问题的症结，Debug 级别只有在 Debug 版本能会输出想到的内容，在 Release 版本是不会输出的，这属于 C++的坑。</p>
<h2 id="消失的进程"><a href="#消失的进程" class="headerlink" title="消失的进程"></a>消失的进程</h2><p>在明确问题后，开发人员改过代码，special build 了一个版本给我测试，能够看到预期的 Log 内容, 本来还是很开心的。</p>
<p>但是当这个问题解决后，我们的目光又聚集到另外一个问题: xxxService 的进程数目不对，并一直在创建与销毁。</p>
<blockquote>
<p>在我们在系统中，需要配置 xxxService 的数量，当服务整个起来之后，可以在 task manager 那边看到相应数目的进程。<br>这些进程会提供一定的服务，并且上文提到的 Log 便是它们来输出的。</p>
</blockquote>
<p>当时的现象是：</p>
<ul>
<li>Log 能够输出，但是文件数量一直在增加(正常情况是文件数量应与进程数一致，并在短期内不会有新建与销毁)</li>
<li>在任务管理器可以看出，设置了 15 个数，但实际上只有 3 个，并且偶尔能看到新增几个新的，但立马消失。</li>
<li>不管 Log 打开还是关闭，都有同样的问题。</li>
<li>在其它相关联的服务 log 中，有大量的与 xxxService Time Out 的 error（侧面证明了一直在销毁与新建）</li>
<li>不影响正常的业务处理</li>
<li>etc…</li>
</ul>
<p>其实在下午的测试过程中，就有感觉一些不对劲，但当时关注点不在这上面，而且一直是在做破坏性测试，所以一直有一些 error 都没太在意。<br>尤其是这个问题不影响正常的业务处理。</p>
<p>当所有功能没有问题之后，目光就集中在这上边，开始意识到问题的严重性，带着这样的问题，产品肯定是不能发布的。</p>
<p>所以一方面，开发人员在查找原因，而我开始对比测试。</p>
<h2 id="原因到底是什么"><a href="#原因到底是什么" class="headerlink" title="原因到底是什么"></a>原因到底是什么</h2><p>开发人员的反馈是最新加的功能不会有大的问题，逻辑很简单，而最近两天基本上只有这次的改动。很可能是别的问题，所以一直在查找。</p>
<p>而我这边，首先确认了下上一个 release 版本是没有这样的问题的，然后也尝试把 log disable 掉，没有输出，但在新版本还是有这样的问题。<br>潜意识里觉得新加的 Log 功能应该是没有问题了，这时，又没有了头绪，而时间已经将近 10 点。</p>
<p>最后，开发人员有了另一种假设，可能是编译的问题，导致 exe 自己出错死掉（但其实不能解释为什么还坚挺地活着几个）。<br>并且发现当前版本前一天的 build 是可以的，便更加相信是其它因素。</p>
<p>我第一次听说可能会有这样的问题（build 不对），基本上那时便没有更深入的去定位出问题的范围。</p>
<p>等到近事出反常必有妖，新的 full build 版本出来后，我尝试了下，还是不行，便陷入的僵局。</p>
<h2 id="柳暗花明"><a href="#柳暗花明" class="headerlink" title="柳暗花明"></a>柳暗花明</h2><p>由于时间太晚，便只能暂时做罢（哈哈哈哈哈，要是某些公司，肯定等不及第二天再来看的）</p>
<p>但事出反常必有妖，我一直觉得肯定是代码哪里有问题，但我心里也把 Log 这边排除了（毕竟逻辑相对简单，只是多增加输出，更有两位开发人员的肯定）。<br>更觉得是其它的问题。</p>
<p>早上来了之后，便与 David 一起 review，我把现象展示出来，在 David 的提示下，我们将 error log 打开（不确定昨晚是否一样打开过）。<br>重现问题之后，猛然在几个进程的 log 里看到了一段 exception,大意是 map 的 key 不对，找不到。</p>
<p>这回我看到了代码，确实在新的更改那边有取 map 值的操作，但理论上来说，从 map 中取值最多为空 null 之类，不应该有重大 error.</p>
<p>在简单分析之后，还是重新修改编译了一个版本，我尝试之后，问题果然解决了。</p>
<p>根源是在为了取一个值(user)的时候，用的是已有的一个公共方法（方式)，而在当前使用情况下，会诱发问题，更详细具体的根源我没有深究。</p>
<h1 id="反思"><a href="#反思" class="headerlink" title="反思"></a>反思</h1><p>总之，如果做的更好一点，就能更早的定位问题，让代价更小一些。</p>
<ul>
<li>要制定相对详细的测试计划，辅助整个流程的进行。</li>
<li>优先测试目标明确的case，比如这次的log，如果一开始就发现出不来，就可以给回开发人员研究，自己做其它的测试，更高效一些。</li>
<li>一定要按自己的思路去定位问题，在有限的条件下，缩小问题的范围，确定好的与有问题的版本的界线。</li>
<li><strong>不要相信开发人员</strong>，哈哈哈哈哈，revert 大法好，在实现不能确定问题根源情况下，回退代码测试是最有效的。尤其是像这次代码 commit 很少的情况下，代价相对很低。</li>
</ul>
<p>晚安</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-11-18T16:00:00.000Z" title="2018/11/19 上午12:00:00">2018-11-19</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-11-19T01:23:54.297Z" title="2018/11/19 上午9:23:54">2018-11-19</time></span><span class="level-item"> BF </span><span class="level-item">8 minutes read (About 1212 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/11/19/2018/11/2018-11-19-DesignPattern-Proxy/">Design Patterns(Proxy)</a></h1><div class="content"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>早些年看《大话设计模式》的时候，用<code>Java</code>实现了书中的例子，可惜当年没有保存好，好多东西都丢了。</p>
<p>现在想着用<code>python</code>重新实现一下 ，重新学习。</p>
<p>虽然 python 没有接口的概念，但是可以用抽象类代替。</p>
<h1 id="代理模式"><a href="#代理模式" class="headerlink" title="代理模式"></a>代理模式</h1><p>代理模式是给某一个对象提供一个代理对象，并由代理对象控制对原对象的引用。通俗的来讲代理模式就是我们生活中常见的中介。</p>
<p><img src="/img/post/2018/11/2018-11-19-DesignPattern-Proxy.jpg" alt="proxy"></p>
<p><strong>为什么要用代理模式？</strong></p>
<p><strong>中介隔离作用：</strong></p>
<p>在某些情况下，一个客户类不想或者不能直接引用一个委托对象，而代理类对象可以在客户类和委托对象之间起到中介的作用，其特征是代理类和委托类实现相同的接口。</p>
<p><strong>开闭原则，增加功能：</strong></p>
<p>代理类除了是客户类和委托类的中介之外，我们还可以通过给代理类增加额外的功能来扩展委托类的功能，这样做我们只需要修改代理类而不需要再修改委托类，符合代码设计的开闭原则。</p>
<p>代理类主要负责为委托类预处理消息、过滤消息、把消息转发给委托类，以及事后对返回结果的处理等。代理类本身并不真正实现服务，而是同过调用委托类的相关方法，来提供特定的服务。</p>
<p>真正的业务功能还是由委托类来实现，但是可以在业务功能执行的前后加入一些公共的服务。例如我们想给项目加入缓存、日志这些功能，我们就可以使用代理类来完成，而没必要打开已经封装好的委托类。</p>
<p><strong>有哪几种代理模式？</strong></p>
<p>我们有多种不同的方式来实现代理。如果按照代理创建的时期来进行分类的话， 可以分为两种：<strong>静态代理</strong>、<strong>动态代理</strong>。</p>
<h1 id="静态代理"><a href="#静态代理" class="headerlink" title="静态代理"></a>静态代理</h1><p>静态代理是由程序员创建或特定工具自动生成源代码，在对其编译。</p>
<p>下面这个是以购买房子为例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> abc <span class="keyword">import</span> ABCMeta,abstractmethod</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IBuyHouseMan</span>(<span class="params">metaclass=ABCMeta</span>):</span></span><br><span class="line"><span class="meta">    @abstractmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pay_money</span>(<span class="params">self, money</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        :param money:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BuyHouseManImpl</span>(<span class="params">IBuyHouseMan</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pay_money</span>(<span class="params">self, money</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;pay money(&#123;&#125;) for house!&quot;</span>.<span class="built_in">format</span>(money))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BuyHouseManProxy</span>(<span class="params">IBuyHouseMan</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, buy_house_man</span>):</span></span><br><span class="line">        self.buy_house_man = buy_house_man</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pay_money</span>(<span class="params">self, money</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;prepare contract&quot;</span>)</span><br><span class="line">        self.buy_house_man.pay_money(money)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;get commission &quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span>():</span></span><br><span class="line">    buy_house_man = BuyHouseManImpl()</span><br><span class="line">    buy_house_man.pay_money(<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">    buy_house_proxy = BuyHouseManProxy(buy_house_man)</span><br><span class="line">    buy_house_proxy.pay_money(<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    test()</span><br></pre></td></tr></table></figure>

<h1 id="动态代理"><a href="#动态代理" class="headerlink" title="动态代理"></a>动态代理</h1><p>动态代理是在程序运行时通过反射机制动态创建的，耦合性大大降低，更加灵活。</p>
<p>我对 python 的反射还不太熟悉，下面是网上的例子，感觉他写的有点麻烦和绕, 到时我重新写下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> abc <span class="keyword">import</span> ABCMeta,abstractmethod</span><br><span class="line"><span class="keyword">import</span> types</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InvocationHandler</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, obj, func</span>):</span></span><br><span class="line">        self.obj = obj</span><br><span class="line">        self.func = func</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span>(<span class="params">self, *args, **kwargs</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;handler:&#x27;</span>, self.func, args, kwargs)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;before call the func.&#x27;</span>)</span><br><span class="line">        self.func(*args, **kwargs)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;after call the func.&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HandlerException</span>(<span class="params">Exception</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, cls</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(HandlerException, self).__init__(cls,  <span class="string">&#x27;is not a hanlder class&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Proxy</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, cls, hcls</span>):</span></span><br><span class="line">        self.cls = cls</span><br><span class="line">        self.hcls = hcls</span><br><span class="line">        self.handlers = <span class="built_in">dict</span>()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span>(<span class="params">self, *args, **kwargs</span>):</span></span><br><span class="line">        self.obj = self.cls(*args, **kwargs)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span>(<span class="params">self, attr</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;get attr:&#x27;</span>, attr)</span><br><span class="line">        isExist = <span class="built_in">hasattr</span>(self.obj, attr)</span><br><span class="line">        res = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> isExist:</span><br><span class="line">            res = <span class="built_in">getattr</span>(self.obj, attr)</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(res, types.MethodType):</span><br><span class="line">                <span class="keyword">if</span> self.handlers.get(res) <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">                    self.handlers[res] = self.hcls(self.obj, res)</span><br><span class="line">                <span class="keyword">return</span> self.handlers[res]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> res</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxyFactory</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, hcls</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">issubclass</span>(hcls, InvocationHandler) <span class="keyword">or</span> hcls <span class="keyword">is</span> InvocationHandler:</span><br><span class="line">            self.hcls = hcls</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> HandlerException(hcls)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span>(<span class="params">self, cls</span>):</span></span><br><span class="line">        <span class="keyword">return</span> Proxy(cls, self.hcls)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@ProxyFactory(<span class="params">InvocationHandler</span>)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BuyHouseMan</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, money</span>):</span></span><br><span class="line">        self.money = money</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pay_money</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;pay money(&#123;&#125;) for house!&quot;</span>.<span class="built_in">format</span>(self.money))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span>():</span></span><br><span class="line">    buy_house_man  = BuyHouseMan(<span class="number">1000</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">type</span>(buy_house_man))</span><br><span class="line">    buy_house_man.pay_money()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    test()</span><br></pre></td></tr></table></figure>

<p>如果使用 Java 的话，那么就很简单了，reflect类库中就有现成的<code>InvocationHandler</code>，很方便：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main.java.proxy.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DynamicProxyHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object object;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DynamicProxyHandler</span><span class="params">(<span class="keyword">final</span> Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.object = object;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before invoke&quot;</span>);</span><br><span class="line">        Object result = method.invoke(object, args);</span><br><span class="line">        System.out.println(<span class="string">&quot;after invoke&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main.java.proxy.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> main.java.proxy.BuyHouse;</span><br><span class="line"><span class="keyword">import</span> main.java.proxy.impl.BuyHouseImpl;</span><br><span class="line"><span class="keyword">import</span> main.java.proxy.impl.DynamicProxyHandler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DynamicProxyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BuyHouse buyHouse = <span class="keyword">new</span> BuyHouseImpl();</span><br><span class="line">        BuyHouse proxyBuyHouse = (BuyHouse) Proxy.newProxyInstance(BuyHouse.class.getClassLoader(), <span class="keyword">new</span></span><br><span class="line">                Class[]&#123;BuyHouse.class&#125;, <span class="keyword">new</span> DynamicProxyHandler(buyHouse));</span><br><span class="line">        proxyBuyHouse.buyHosue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="CGLIB代理"><a href="#CGLIB代理" class="headerlink" title="CGLIB代理"></a>CGLIB代理</h1><p>待填坑。</p>
<p><strong>参考:</strong></p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/daniels/p/8242592.html">设计模式—代理模式</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/water_likud/article/details/80566177">Python：动态代理机制</a></p>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-11-17T16:00:00.000Z" title="2018/11/18 上午12:00:00">2018-11-18</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-11-18T14:40:37.489Z" title="2018/11/18 下午10:40:37">2018-11-18</time></span><span class="level-item"> BF </span><span class="level-item">4 minutes read (About 660 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/11/18/2018/11/2018-11-18-Dokuwiki/">Dokuwiki</a></h1><div class="content"><h1 id="Dokuwiki"><a href="#Dokuwiki" class="headerlink" title="Dokuwiki"></a>Dokuwiki</h1><p><a target="_blank" rel="noopener" href="https://www.dokuwiki.org/">dokuwiki</a> 是一个开源 WIKI 引擎程序，运行于 PHP 环境下，程序小巧而功能强大、灵活，适合中小团队和个人网站知识库的管理。</p>
<p>之前在windows下装过，我今天在Linux下装了一下，记录一下大概的过程，给自己参考。</p>
<h1 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h1><p><strong>Dokuwili</strong>是基于 php 做后端处理的，所以我们需要安装并且版本要在 5.6 以上。</p>
<p>如果直接执行下面的命令，CentOS 就会自动帮你安装好，并可以查看安装的位置。</p>
<p>但是因为在线库还是5.5的，所以需要升级。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">yum install php</span><br><span class="line"></span><br><span class="line">rpm -ql php</span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;httpd&#x2F;conf.d&#x2F;php.conf</span><br><span class="line">&#x2F;etc&#x2F;httpd&#x2F;conf.modules.d&#x2F;10-php.conf</span><br><span class="line">&#x2F;usr&#x2F;lib64&#x2F;httpd&#x2F;modules&#x2F;libphp5.so</span><br><span class="line">&#x2F;usr&#x2F;share&#x2F;httpd&#x2F;icons&#x2F;php.gif</span><br><span class="line">&#x2F;var&#x2F;lib&#x2F;php&#x2F;session</span><br></pre></td></tr></table></figure>

<p>我们首先移除掉老的库链接，换成新的,再执行升级操作，并把相关的库都安装了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 查看版本</span><br><span class="line">php -v</span><br><span class="line"># 升级软件仓库</span><br><span class="line">rpm -Uvh https:&#x2F;&#x2F;mirror.webtatic.com&#x2F;yum&#x2F;el7&#x2F;epel-release.rpm</span><br><span class="line">rpm -Uvh https:&#x2F;&#x2F;mirror.webtatic.com&#x2F;yum&#x2F;el7&#x2F;webtatic-release.rpm</span><br><span class="line">yum remove php-common</span><br><span class="line"># 会有一个提示 y&#x2F;n: 输入 yes</span><br><span class="line">yum install -y php56w php56w-opcache php56w-xml php56w-mcrypt php56w-gd php56w-devel php56w-mysql php56w-intl php56w-mbstring</span><br></pre></td></tr></table></figure>

<h1 id="Apache-Httpd"><a href="#Apache-Httpd" class="headerlink" title="Apache Httpd"></a>Apache Httpd</h1><p>安装这个就比较简单了，而且云机上一般都已经安装好了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install Httpd</span><br></pre></td></tr></table></figure>

<h1 id="配置-Httpd-与-PHP"><a href="#配置-Httpd-与-PHP" class="headerlink" title="配置 Httpd 与 PHP"></a>配置 Httpd 与 PHP</h1><p>找到<code>httpd</code>的配置文件，一般在如下的路径：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;etc&#x2F;httpd&#x2F;conf&#x2F;httpd.conf</span><br></pre></td></tr></table></figure>

<p>修改<code>httpd.conf</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">AddType application&#x2F;x-compress .Z</span><br><span class="line">AddType application&#x2F;x-gzip .gz .tgz</span><br><span class="line"># 在下面添加如下内容</span><br><span class="line">AddType application&#x2F;x-httpd-php-source .phps</span><br><span class="line">AddType application&#x2F;x-httpd-php .php</span><br></pre></td></tr></table></figure>

<p>Httpd 的其它基本配置这次暂略。</p>
<p>为了安装好 dokuwiki 之后能上传安装一些插件，而不受到上传文件大小限制，就要找到 php.ini<br>然后，改掉。默认才 2M。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;etc&#x2F;php.ini</span><br><span class="line">upload_max_filesize &#x3D; 10M</span><br></pre></td></tr></table></figure>

<h1 id="安装-dokuwiki"><a href="#安装-dokuwiki" class="headerlink" title="安装 dokuwiki"></a>安装 dokuwiki</h1><p>在<a target="_blank" rel="noopener" href="https://www.dokuwiki.org/">官网</a>下好包之后，直接放到<code>httpd</code>的目录中，一般默认如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;var&#x2F;www&#x2F;html</span><br></pre></td></tr></table></figure>

<p>然后我们解压缩之后，放到 html 目录下，然后给这个目录权限。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -R 777 &#x2F;var&#x2F;www&#x2F;html&#x2F;dokuwiki</span><br></pre></td></tr></table></figure>

<p>重启<code>httpd</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpd -k restart</span><br></pre></td></tr></table></figure>
<p>访问 <code>localhost/dokuwiki/install.php</code>,按照说明安装就好了。</p>
<h1 id="插件与主题"><a href="#插件与主题" class="headerlink" title="插件与主题"></a>插件与主题</h1><p>dokuwiki 有许多第三方插件与主题，需要自己探索，这里暂略。</p>
<h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>我今天搭建好的wiki地址：<a target="_blank" rel="noopener" href="http://47.98.42.142/dokuwiki/">http://47.98.42.142/dokuwiki/</a></p>
<p>暂时没有什么东西，就装了一些简单的插件，后续再慢慢丰富。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-11-16T16:00:00.000Z" title="2018/11/17 上午12:00:00">2018-11-17</time></span><span class="level-item">Updated&nbsp;<time dateTime="2018-11-17T15:08:06.484Z" title="2018/11/17 下午11:08:06">2018-11-17</time></span><span class="level-item"> BF </span><span class="level-item">30 minutes read (About 4475 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/11/17/2018/11/2018-11-17-JavaDevManual/">Java Developement Manual</a></h1><div class="content"><h1 id="Java-开发手册-alibaba"><a href="#Java-开发手册-alibaba" class="headerlink" title="Java 开发手册(alibaba)"></a>Java 开发手册(alibaba)</h1><p>闲来无聊，手打一份手册，当做自己在网络的备份，方便以后查看，顺便当练习打字了，哈哈哈哈，我的五笔都生疏了，嘿嘿。</p>
<h2 id="第一章-编程规约"><a href="#第一章-编程规约" class="headerlink" title="第一章 编程规约"></a>第一章 编程规约</h2><p>本章是传统意义上的代码规范，包括变量名、代码风格、控制语句、代码注释等基本的编程习惯，以及从高并发场景中提炼出来的集合处理技巧和并发多线程的注意事项。</p>
<h3 id="1-1-命名风格"><a href="#1-1-命名风格" class="headerlink" title="1.1 命名风格"></a>1.1 命名风格</h3><h4 id="【强制】"><a href="#【强制】" class="headerlink" title="【强制】"></a>【强制】</h4><ul>
<li><p>代码中的命名均不能以下画线或美元符号开始，也不能以下画线或美元符号结束。</p>
</li>
<li><p>代码中的命名严禁使用拼与英文混合的方式，更不允许直接使用中文的方式。</p>
</li>
<li><p>类名使用 UpperCamelCamel 风格， 但 DO/BO/DTO/VO/AO/PO 等情形例外。</p>
</li>
<li><p>方法名、参数名、成员变量 、局部变量都统一使用 lowerCamelCase 风格，必须遵从驼峰的形式。</p>
</li>
<li><p>常量命名全部大写，单词间用下画线隔开，力求语义表达完整清楚，不要嫌名字长。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e.g. MAX_STOCK_COUNT &#x2F; PRIZE_NUMBER_EVERYDAY</span><br></pre></td></tr></table></figure></li>
<li><p>抽象类名使用 Abstract 或 Base 开头；异常类使用 Exception 结尾；测试类命名要以它测试的类名开始，以 Test 结尾。</p>
</li>
<li><p>类型与中括号之间无空格相连定义数组。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e.g. int[] arrayDemo;</span><br></pre></td></tr></table></figure></li>
<li><p>POJO 类中布尔类型的变量都不要加 is 前缀，否则部分框架解析会引起序列化错误。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">e.g. Boolean isDeleted, it&#39;s method is isDeleted(), </span><br><span class="line">Error happened when RPC Framwork try to get property name deleted)</span><br></pre></td></tr></table></figure></li>
<li><p>包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。包名统一使用单数形式，但是类名如果有复数含义，则类名可以使用复数形式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e.g. com.alibaba.ai.util.MessageUtils</span><br></pre></td></tr></table></figure></li>
<li><p>杜绝完全不规范的缩写，避免词不达义。</p>
</li>
</ul>
<h4 id="【推荐】"><a href="#【推荐】" class="headerlink" title="【推荐】"></a>【推荐】</h4><ul>
<li><p>为了达到代码自解释的目标，任何自定义编程元素在命名时，使用尽量完整的单词组合来表达其意。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e.g 在JDK中，对某个对象引用的volatile字段进行原子更新的类名为： AtomicReferenceFieldUpdater。</span><br></pre></td></tr></table></figure></li>
<li><p>如果模块、接口、类、方法使用了设计模式 ，应在命名时体现出具体模式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public class OrderFactory;</span><br><span class="line">public class LoginProxy;</span><br><span class="line">public class ResourceObserver;</span><br></pre></td></tr></table></figure></li>
<li><p>接口类中的方法和属性不要加任何修饰符号(public 也不要加)， 保持代码的简洁性，并加上有效的 Javadoc 注释。尽量不要在接口里定义变量，如果一定要定义变量，必须是与接口方法相关的，并且是整个应用的基础常量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">接口方法签名：void commit();</span><br><span class="line">接口基础常量：String COMPANY &#x3D; &quot;alibaba&quot;;</span><br><span class="line">c.g. public abstract void commit();</span><br><span class="line">如果JDK8中接口允许有默认实现，那么这个default方法，是对所有实现类都有价值的默认实现。</span><br></pre></td></tr></table></figure></li>
<li><p>接口和实现类的命名有两套规则： </p>
<ul>
<li>【强制】对于 Service 和 DAO 类，基于 SOA 的理念，暴露出来的服务一定是接口，内部的实现类用以 Impl 后缀与接口区别。<code>e.g. CacheServiceImpl实现CacheService接口</code> </li>
<li>【推荐】如果是形容能力的接口名称，取对应的形容词为接口名（通常是-able 的形式）。<code>e.g. AbstractTranslator 实现 Translatable</code></li>
</ul>
</li>
</ul>
<h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><ul>
<li><p>枚举类名建议带上 Enum 后缀，枚举成员名称需要全大写， 单词间用下画线隔开。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">枚举其实就是特殊的常量类，且构造方法被默认强制为私有。</span><br><span class="line">e.g.枚举名字为ProcessStatusEnum的成员名称：SUCCESS &#x2F; UNKNOWN_REASON</span><br></pre></td></tr></table></figure></li>
<li><p>各层命名规约：</p>
<ul>
<li>Service/DAO 层方法命名规约如下：<ul>
<li>获取单个对象的方法用 get 作为前缀。</li>
<li>获取多个对象的方法用 list 作为前缀。</li>
<li>获取统计值的方法用 count 作为前缀。</li>
<li>插入的方法用 sava / insert 作为前缀。</li>
<li>删除的方法用 remove / delete 作为前缀。</li>
<li>修改的方法用 update 作为前缀</li>
</ul>
</li>
<li>领域模型命名规约如下:<ul>
<li>数据对象： xxxDO, xxx 为数据表名。</li>
<li>数据传输对象： xxxDTO, xxx 为业务领域相关的名称。</li>
<li>展示对象： xxxVO, xxx 一般为网页名称。</li>
<li><code>POJO</code> 是 DO/DTO/BO/VO 的统称，禁止命名成 xxx<code>POJO</code>。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-2-常量定义"><a href="#1-2-常量定义" class="headerlink" title="1.2 常量定义"></a>1.2 常量定义</h3><h4 id="强制"><a href="#强制" class="headerlink" title="强制"></a>强制</h4><ul>
<li>不允许任何魔法值（即未经预先定义的常量）直接出现在代码中。</li>
<li>long 或者 Long 初始赋值时，使用大写的<code>L</code>，不能是小写的<code>l</code>。小写的<code>l</code>容易跟数字<code>1</code>混淆，造成误解。</li>
</ul>
<h4 id="推荐"><a href="#推荐" class="headerlink" title="推荐"></a>推荐</h4><ul>
<li>不要使用一个常量类维护所有常量，要按常量功能进行归类，分开维护。</li>
<li>常量的复用层次有 5 层：跨应用共享常量、应用内共享常量、子工程内共享常量、包内共享常量、类内共享常量。 - 跨应用共享常量：放置在二方库中，通常是在 client.jar 中的 constant 目录下。 - 应用内共享常量：旋转在一方库中，通常是在子模块中的 constant 目录下。 - 子工程内部共享常量：即在当前子工程的 constant 目录下。 - 包内共享常量：即在当前包下单独的 constant 目录下。 - 类内共享常量：直接在类内部以<code>private static final</code>的方式定义。</li>
<li>如果变量值仅在一个范围内变化，则用 enum 类型来定义。如果存在名称之外的延伸属性，则使用 enum 类型，下面正例的数字就是延伸信息，表示一年中的第几个季节。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public enum SeasonEnum &#123;</span><br><span class="line">    SPRINT(1), SUMMER(2), AUTUMN(3), WINTER(4);</span><br><span class="line">    private int seq;</span><br><span class="line">    SeasonEnum(int seq)&#123;</span><br><span class="line">        this.seq &#x3D; seq;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="1-3-代码格式"><a href="#1-3-代码格式" class="headerlink" title="1.3 代码格式"></a>1.3 代码格式</h3><h4 id="强制-1"><a href="#强制-1" class="headerlink" title="强制"></a>强制</h4><ul>
<li><p>大括号的使用约定。如果大括号内为空，则简洁地写成{}即可，也不需要换行；如果是非空代码，则： </p>
<ul>
<li>左大括号前不换行。 </li>
<li>左大括号后换行。 </li>
<li>右大括号前换行。 </li>
<li>右大括号后还有 else 等代码刚不换行；</li>
</ul>
</li>
<li><p>表示终止的右大括号必须换行。</p>
</li>
<li><p>左小括号和字符之间不出现空格；同样，右小括号和字符之间也不出现空格。</p>
</li>
<li><p>if / for / while / switch / do 等保留字与括号之间都必须加上空格。</p>
</li>
<li><p>任何二目、三目运算符的左右两边都需要加一个空格。采用 4 个空格缩进，禁止使用 Tab 控制符。</p>
</li>
<li><p>注释的双斜线与注释内容之间有且仅有一个空格。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args)&#123;</span><br><span class="line">    &#x2F;&#x2F; 缩进4个空格</span><br><span class="line">    String say &#x3D; &quot;hello&quot;;</span><br><span class="line">    &#x2F;&#x2F; 运算符的左右必须有1个空格</span><br><span class="line">    int flag &#x3D; 0;</span><br><span class="line">    &#x2F;&#x2F; 关键字 if 与括号之间必须有 1 个空格，</span><br><span class="line">    &#x2F;&#x2F; 括号内的 f 与左括号、0 与右括号之间不需要空格</span><br><span class="line">    if (flag &#x3D;&#x3D; 0) &#123;</span><br><span class="line">        System.out.println(say);</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 左大括号前加空格且不换行；左大括号后换行</span><br><span class="line">    if (flag &#x3D;&#x3D; 1) ｛</span><br><span class="line">        System.out.println(&quot;world&quot;);</span><br><span class="line">    &#x2F;&#x2F; 右大括号前换行，右大括号后有else，不用换行</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        System.out.println(&quot;ok&quot;);</span><br><span class="line">    &#x2F;&#x2F; 在右大括号后直接结束，则必须换行</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>单行字符数不超过 120 个，超出则需要换行，换行是遵循如下原则： </p>
<ul>
<li>第二行相对第一行缩进 4 个空格，从第三行开始，不再持续缩进，参考示例。 </li>
<li>运算符与下文一起换行。 </li>
<li>方法调用的点符号与下方一起换行。 </li>
<li>方法调用中的多个参数需要换行时，在逗号后进行。 </li>
<li>在括号前不要换行。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer sb &#x3D; new StringBuffer();</span><br><span class="line">sb.append(&quot;you &quot;).append(&quot;are &quot;)...</span><br><span class="line">    .append(&quot;so &quot;)...</span><br><span class="line">    .append(&quot;kind!&quot;);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>方法参数在定义和传入时，多个参数逗号后面必须加空格。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">method(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);</span><br></pre></td></tr></table></figure></li>
<li><p>IDE 的 text file encoding 设置为 UTF-8；IDE 中文件的换行符使用 UNIX 格式， 不要使用 Windows 格式。</p>
</li>
</ul>
<h4 id="推荐-1"><a href="#推荐-1" class="headerlink" title="推荐"></a>推荐</h4><ul>
<li>没有必要增加若干空格来使某一行的字符与上一行对应位置的字符对齐。</li>
<li>不同逻辑、不同语义、不同业务的代码之间插入一个空行分隔开来，以提升可读性。（没必要插入多个空行来隔开。）</li>
</ul>
<h3 id="OOP-规约"><a href="#OOP-规约" class="headerlink" title="OOP 规约"></a>OOP 规约</h3><h4 id="强制-2"><a href="#强制-2" class="headerlink" title="强制"></a>强制</h4><ul>
<li><p>避免通过一个类的对象引用访问此类的静态变量或静态方法，造成无谓增加编译器解析成本，直接用类名来访问即可。</p>
</li>
<li><p>所以的覆写方法，必须加<code>@Override</code>注解</p>
</li>
<li><p>相同参数类型，相同业务含义，才可以使用 Java 的可变参数，避免使用 Object。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">可变参数必须放置在参数列表的最后（建议工程师们尽量不用可变参数编程）。</span><br><span class="line">public User listUsers(String type, Long... ids)&#123;...&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>对外部正在调用或者二方库依赖的接口，不允许修改方法接口，以避免对接口调用方产生影响。若接口过时，必须加 <code>@Deprecated</code>注解，并清晰地说明采用的新接口或者新服务是什么。</p>
</li>
<li><p>不能使用过时的类或方法。</p>
</li>
<li><p>Object 的 equals 方法容易抛空指针，应使用常量或者确定有值的对象来调用 equals。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">e.g. &quot;test&quot;.equals(object)</span><br><span class="line">c.g. object.equest(&quot;test&quot;);</span><br></pre></td></tr></table></figure></li>
<li><p>所有相同类型的包装类对象之间值的比较，全部使用 equals 方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">对于 Integer var &#x3D; ? 在 - 128~127范围内的赋值， </span><br><span class="line">Integer 对象是在IntegerCache.cache中产生 的。</span><br><span class="line">会复用已有对象， 这个区间内的Integer值可以直接使用 &#x3D;&#x3D; 进行判断， </span><br><span class="line">但是这个区间外的所有数据， 都会在堆上产生，</span><br><span class="line">并不会利用已有对象。这是个大坑，推荐使用equals方法进行判断。</span><br></pre></td></tr></table></figure></li>
<li><p>关于基本数据类型与包装数据类型的使用标准如下：</p>
<ul>
<li>【强制】所有的<code>POJO</code>类属性必须使用包装数据类型。</li>
<li>【强制】RPC 方法的返回值和参数必须使用包装数据类型。</li>
<li>【推荐】所有的局部变量使用基本数据类型。</li>
</ul>
</li>
<li><p>在定义 DO/DTO/VO 等 <code>POJO</code>类时，不要设定任何属性默认值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c.g. &#96;POJO&#96;类的gmtCreate默认值为 new Date();</span><br><span class="line">但是这个属性在数据提取时并没有置入具体值，</span><br><span class="line">在更新其它字段时又附带更新了此字段，导致创建时间被修改成当前时间。</span><br></pre></td></tr></table></figure></li>
<li><p>当序列化类新增属性时，请不要修改<code>serialVersionUID</code>字段，以避免反序列失败；如果完全不兼容升级， 避免反序列化混乱，那么请修改<code>serialVersionUID</code>值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注意&#96;serialVersionUID&#96;不一致会抛出序列化运行时异常。</span><br></pre></td></tr></table></figure></li>
<li><p>构造方法里禁止加入任何业务逻辑，如果有初始化逻辑，请放在 init 方法中。</p>
</li>
<li><p><code>POJO</code>类必须写 <code>toString</code>方法。在使用 IDE 中的工具 <code>source&gt; generate toString</code>时， 如果继承了另一个<code>POJO</code>类，注意在前面加一下 super.toString。</p>
</li>
</ul>
<h4 id="推荐-2"><a href="#推荐-2" class="headerlink" title="推荐"></a>推荐</h4><ul>
<li>当使用索引访问用 String 的 split 方法等到的数组时，需在最后一个分隔符后面做有无内容的检查，否则会有抛 <code>IndexOutofBoundsException</code>的风险。</li>
<li>当一个类有多个构造方法，或者多个同名方法时，这些方法应该按顺序放置在一起，便于阅读。</li>
<li>类内方法定义的顺序是： 公有方法或保护方法＞私有方法＞ getter / setter 方法。</li>
<li>在 setter 方法中， 参数名称与类成员变量名称一致，this.成员名 = 参数名。在 getter / setter 方法中，不要增加业务逻辑， 否则会增加排查问题的难度。</li>
<li>在循环体内，字符串的连接方式使用<code>StringBuilder</code>的<code>append</code>方法进行扩展。</li>
<li>final 可以声明类、成员变量、方法及本地变量，下列情况使用 final 关键字： - 不允许被继承的类，如：<code>String</code>类。 - 不允许修改引用的域对象， 如：<code>POJO</code>类的域变量。 - 不允许被重写的方法，如： <code>POJO</code>类的 setter 方法。 - 不允许运行过程中重新赋值的局部变量。 - 避免上下文重复使用一个变量，使用 final 描述可以强制重新定义一个新变量，方便更好地进行重构</li>
<li>慎用 Object 的 clone 方法来拷贝对象。</li>
<li>类成员与方法访问控制从严： - 如果不外部直接通过 new 来创建对象，那么构造方法必须限制为<code>private</code>。 - 工具类不允许有 public 或 default 构造方法。 - 类非<code>static</code>成员变量并且与子类共享，必须限制为<code>protected</code>。 - 类非<code>static</code>成员变量并且仅在本类使用，必须限制为<code>private</code>。 - 类<code>static</code>成员变量如果公在本类使用，必须限制为<code>private</code>。 - 若是<code>static</code> 成员变量，必须考虑是否为<code>final</code>。 - 类成员方法只供类内部调用，必须限制为<code>private</code>。 - 类成员方法只对继承类公开，限制为<code>protected</code>.</li>
</ul>
<h3 id="1-5-集合处理"><a href="#1-5-集合处理" class="headerlink" title="1.5 集合处理"></a>1.5 集合处理</h3><h4 id="强制-3"><a href="#强制-3" class="headerlink" title="强制"></a>强制</h4><ul>
<li><p>关于<code>hashCode</code> 和<code>equals</code>的处理，遵循如下规则： </p>
</li>
<li><p>只要重写 equals, 就必须重写 hashCode。 </p>
</li>
<li><p>因为 <code>Set</code>存储的是不重复的对象，依据 hashCode 和 equals 进行判断，所以 Set 存储的对象必须重写这两种方法。 </p>
</li>
<li><p>如果自定义对象作为<code>Map</code>的键，那么必须重写 hashCode 和 equals。</p>
</li>
<li><p><code>ArrayList</code>的<code>subList</code>结果不可强转成<code>ArrayList</code>, 否则会抛出<code>ClassCastExcpetion</code>异常，即</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.util.RandomAccessSubList cannot be cast to java.util.ArrayList&#96;</span><br></pre></td></tr></table></figure></li>
<li><p>在<code>subList</code>场景中，高度注意对原集合元素个数的修改，会导致子列表的遍历、增加、删除均产生<code>ConcurrentModificationException</code>异常。</p>
</li>
<li><p>使用集合转数组的方法，必须使用集合的<code>toArray(T[] array)</code>，传入的是类型完全一样的数据，大小就是 list.size()。</p>
</li>
<li><p>在使用工具类<code>Arrays.asList()</code>把数组转换成集合时，不能使用其修改集合相关的方法，它的<code>add</code>/<code>remove</code>/<code>clear</code>方法会抛出<code>UnsupportedOperationException</code>异常。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">asList 的返回对象是一个Arrays内部类，并没有实现集合的修改方法。</span><br><span class="line">Arrays.asList体现的是适配器模式，只是转换接口，后台的数据仍是数组。</span><br><span class="line">String[] strs &#x3D; new String[] &#123;&quot;you&quot;, &quot;are&quot;&#125;;</span><br><span class="line">List list &#x3D; Arrays.asList(strs);</span><br><span class="line">scenario 1: list.add(&quot;chenxiong&quot;) 运行时异常。</span><br><span class="line">scenario 2: 如果 str[0] &#x3D; &quot;xiche&quot;; 那么list.get(0)也会随之修改。</span><br></pre></td></tr></table></figure></li>
<li><p>泛型通配符<code>&lt;? extends T&gt;</code>用来接收返回的数据，此写法的泛型集合不能使用 add 方法，而<code>&lt;? super T&gt;</code>不能使用 get 方法， 因为 其作为接口调用赋值时易出错。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">扩展说一下 PECS(Producer Extends Consumer Super)原则：</span><br><span class="line">    第一，频繁往外读取内容的，适合用&lt;? extends T&gt;;</span><br><span class="line">    第二，经常往里插入的，适合用&lt;? super T&gt;。</span><br></pre></td></tr></table></figure></li>
<li><p>不要在<code>foreach</code>循环里进行元素的<code>remove</code>/<code>add</code>操作。remove 元素请用 <code>Iterator</code>方式，如果并发操作，需要对 Iterator 对象加锁。</p>
</li>
<li><p>在 JDK7 及以上版本中， <code>Comparator</code>要满足如下三个条件，不然<code>Arrays.sort</code>, <code>Collections.sort</code>会报<code>IllegalArgumentException</code>异常。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">三个条件如下：</span><br><span class="line">    1) x, y 的比较结果和y, x的比较结果相反。</span><br><span class="line">    2) x&gt;y, y&gt;z, 则 x&gt;z。</span><br><span class="line">    3) x&#x3D;y, 则x, z 比较结果和y, z比较结果相同</span><br><span class="line">c.g. 下例中没有处理相等的情况，交换两个对象判断结果并不互反，不符合第一个条件，在实际使用中可能会出现异常。</span><br><span class="line">    new Comparator&lt;Student&gt;()&#123;</span><br><span class="line">        @Override</span><br><span class="line">        public int compare(Student o1, Student o2)&#123;</span><br><span class="line">            return 01.getId() &gt; o2.getId() ? 1:-1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="推荐-3"><a href="#推荐-3" class="headerlink" title="推荐"></a>推荐</h4><ul>
<li><p>在集合初始化时，指定集合初始值大小。</p>
</li>
<li><p>使用<code>entrySet</code>遍历<code>Map</code>类集合 K/V， 而不是用 keySet 方式遍历。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">keySet 其实遍历了2次，一次是转为Iterator对象，</span><br><span class="line">另一次是从hashMap中取出key反对应的value。</span><br><span class="line">如果是JDK8，使用Map.foreach方法。</span><br></pre></td></tr></table></figure></li>
<li><p>高度注意<code>Map</code>类集合 K/V 能不能存储 null 值的情况</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>集合类</th>
<th>Key</th>
<th>Value</th>
<th>Super</th>
<th>Comment</th>
</tr>
</thead>
<tbody><tr>
<td>Hashtable</td>
<td>no null</td>
<td>no null</td>
<td>Dictionary</td>
<td>Thread Safe</td>
</tr>
<tr>
<td>ConcurrentHashMap</td>
<td>no null</td>
<td>no null</td>
<td>AbstractMap</td>
<td>锁分段技术 (JDK8:CAS)</td>
</tr>
<tr>
<td>TreeMap</td>
<td>no null</td>
<td>null</td>
<td>AbstractMap</td>
<td>Thread Unsafe</td>
</tr>
<tr>
<td>HashMap</td>
<td>null</td>
<td>null</td>
<td>AbstractMap</td>
<td>Thread Unsafe</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">由于HashMap的干扰，很多人认为ConcurrentHashMap是可以置入null值的，而事实上，存储null值会抛出NPE异常</span><br></pre></td></tr></table></figure>

<h4 id="参考-1"><a href="#参考-1" class="headerlink" title="参考"></a>参考</h4><ul>
<li><p>合理利用集合的有序性(sort)和稳定性(order)，避免集合的无序性(unsort)和不稳定性(unorder)带来的负面影响。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">有序性批遍历的结果是按某种比较规则依次排列的。</span><br><span class="line">稳定性指的是集合每次遍历的元素次序是一定的。如：</span><br><span class="line">ArrayList 是 order&#x2F;unsort;</span><br><span class="line">HashMap 是unorder&#x2F;unsort;</span><br><span class="line">TreeSet 是order&#x2F;sort.</span><br></pre></td></tr></table></figure></li>
<li><p>利用 Set 元素唯一的特性，可以快速对一个集合进行去重操作，避免使用 List 的 contains 方法进行遍历、对比、去重操作。</p>
</li>
</ul>
<p>未完待续…└(^o^)┘</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-11-14T16:00:00.000Z" title="2018/11/15 上午12:00:00">2018-11-15</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-09-08T15:43:26.379Z" title="2020/9/8 下午11:43:26">2020-09-08</time></span><span class="level-item"> BF </span><span class="level-item">7 minutes read (About 1042 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/11/15/2018/11/2018-11-15-YAML/">YAML</a></h1><div class="content"><h1 id="YAML"><a href="#YAML" class="headerlink" title="YAML"></a>YAML</h1><p>正如 YAML 所表示的 YAML Ain’t Markup Language，YAML 是一种简洁的非标记语言。YAML 以数据为中心，使用空白，缩进，分行组织数据，从而使得表示更加简洁易读。</p>
<p>编程免不了要写配置文件，YAML 是专门用来写配置文件的语言，非常简洁和强大，远比 JSON 格式方便。</p>
<p>我记得自己第一次真正接触是在建立 github 博客的时候，因为用来配置站点信息的便是使用 Yaml 来配置的。</p>
<h2 id="基本规则"><a href="#基本规则" class="headerlink" title="基本规则"></a>基本规则</h2><p>YAML 有以下基本规则：</p>
<ol>
<li>大小写敏感</li>
<li>使用缩进表示层级关系</li>
<li>禁止使用 tab 缩进，只能使用空格键</li>
<li>缩进长度没有限制，只要元素对齐就表示这些元素属于一个层级。</li>
<li>使用#表示注释，从这个字符一直到行尾，都会被解析器忽略。</li>
<li>字符串可以不用引号标注</li>
</ol>
<p>YAML 支持的数据结构有三种。</p>
<ul>
<li>对象：键值对的集合，又称为映射（mapping）/ 哈希（hashes） / 字典（dictionary）</li>
<li>数组：一组按次序排列的值，又称为序列（sequence） / 列表（list）</li>
<li>纯量（scalars）：单个的、不可再分的值</li>
</ul>
<h2 id="三种数据结构"><a href="#三种数据结构" class="headerlink" title="三种数据结构"></a>三种数据结构</h2><h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p>使用冒号（:）表示键值对，同一缩进的所有键值对属于一个 map，如：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># YAML 表示</span></span><br><span class="line"><span class="attr">age :</span> <span class="number">12</span></span><br><span class="line"><span class="attr">name :</span> <span class="string">huang</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对应的 Json 表示</span></span><br><span class="line">&#123;<span class="string">&#x27;age&#x27;</span><span class="string">:12</span>,<span class="string">&#x27;name&#x27;</span><span class="string">:&#x27;huang&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<p>也可以将一个 map 写在一行：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># YAML 表示</span></span><br><span class="line">&#123;<span class="string">age:12</span>,<span class="string">name:huang</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对应的 Json 表示</span></span><br><span class="line">&#123;<span class="string">&#x27;age&#x27;</span><span class="string">:12</span>,<span class="string">&#x27;name&#x27;</span><span class="string">:&#x27;huang&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><p>使用连字符（-）表示：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># YAML 表示</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">a</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">b</span></span><br><span class="line"><span class="bullet">-</span> <span class="number">12</span></span><br><span class="line"><span class="comment"># 对应 Json 表示</span></span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="number">12</span>]</span><br></pre></td></tr></table></figure>

<p>也可以写在一行：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># YAML 表示</span></span><br><span class="line">[<span class="string">a</span>,<span class="string">b</span>,<span class="string">c</span>]</span><br><span class="line"><span class="comment"># 对应 Json 表示</span></span><br><span class="line">[ <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span> ]</span><br></pre></td></tr></table></figure>

<p>map 和 list 的元素可以是另一个 map 或者 list 或者是纯量。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">languages:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Ruby</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Perl</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Python</span></span><br><span class="line"><span class="attr">websites:</span></span><br><span class="line">  <span class="attr">YAML:</span> <span class="string">yaml.org</span></span><br><span class="line">  <span class="attr">Ruby:</span> <span class="string">ruby-lang.org</span></span><br><span class="line">  <span class="attr">Python:</span> <span class="string">python.org</span></span><br><span class="line">  <span class="attr">Perl:</span> <span class="string">use.perl.org</span></span><br></pre></td></tr></table></figure>

<h3 id="scalar-纯量"><a href="#scalar-纯量" class="headerlink" title="scalar(纯量)"></a>scalar(纯量)</h3><p>数据最小的单位，不可以再分割。</p>
<ul>
<li>字符串</li>
<li>布尔值</li>
<li>整数</li>
<li>浮点数</li>
<li>Null</li>
<li>时间</li>
<li>日期</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">number:</span> <span class="number">12.30</span></span><br><span class="line"><span class="attr">isSet:</span> <span class="literal">true</span> <span class="comment">#false</span></span><br><span class="line"><span class="attr">parent:</span> <span class="string">~</span> <span class="comment"># 对应json中的null</span></span><br><span class="line"><span class="attr">iso8601:</span> <span class="number">2001-12-14t21:59:43.10-05:00</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">1976-07-31</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># YAML 允许使用两个感叹号，强制转换数据类型。</span></span><br><span class="line"><span class="attr">e:</span> <span class="type">!!str</span> <span class="number">123</span></span><br><span class="line"><span class="attr">f:</span> <span class="type">!!str</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果字符串之中包含空格或特殊字符，需要放在引号之中。</span></span><br><span class="line"><span class="attr">str:</span> <span class="string">&#x27;内容： 字符串&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 单引号和双引号都可以使用，双引号不会对特殊字符转义。</span></span><br><span class="line"><span class="attr">s1:</span> <span class="string">&#x27;内容\n字符串&#x27;</span></span><br><span class="line"><span class="attr">s2:</span> <span class="string">&quot;内容\n字符串&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 单引号之中如果还有单引号，必须连续使用两个单引号转义。</span></span><br><span class="line"><span class="attr">str:</span> <span class="string">&#x27;labor&#x27;</span><span class="string">&#x27;s day&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串可以写成多行，从第二行开始，必须有一个单空格缩进。换行符会被转为空格。</span></span><br><span class="line"><span class="attr">str:</span> <span class="string">这是一段</span></span><br><span class="line">  <span class="string">多行</span></span><br><span class="line">  <span class="string">字符串</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 多行字符串可以使用|保留换行符，也可以使用&gt;折叠换行。</span></span><br><span class="line"><span class="attr">this:</span> <span class="string">|</span></span><br><span class="line">  <span class="string">Foo</span></span><br><span class="line">  <span class="string">Bar</span></span><br><span class="line"><span class="attr">that:</span> <span class="string">&gt;</span></span><br><span class="line">  <span class="string">Foo</span></span><br><span class="line">  <span class="string">Bar</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># +表示保留文字块末尾的换行，-表示删除字符串末尾的换行。</span></span><br><span class="line"><span class="attr">s1:</span> <span class="string">|</span></span><br><span class="line">  <span class="string">Foo</span></span><br><span class="line"></span><br><span class="line"><span class="attr">s2:</span> <span class="string">|+</span></span><br><span class="line">  <span class="string">Foo</span></span><br><span class="line"></span><br><span class="line"><span class="attr">s3:</span> <span class="string">|-</span></span><br><span class="line">  <span class="string">Foo</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串之中可以插入 HTML 标记。</span></span><br><span class="line"><span class="attr">message:</span> <span class="string">|</span></span><br><span class="line">  <span class="string">&lt;p</span> <span class="string">style=&quot;color:</span> <span class="string">red&quot;&gt;</span></span><br><span class="line">    <span class="string">段落</span></span><br><span class="line">  <span class="string">&lt;/p&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="锚点-amp-和别名-，可以用来引用。"><a href="#锚点-amp-和别名-，可以用来引用。" class="headerlink" title="锚点&amp;和别名*，可以用来引用。"></a>锚点&amp;和别名*，可以用来引用。</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">defaults:</span> <span class="meta">&amp;defaults</span></span><br><span class="line">  <span class="attr">adapter:</span>  <span class="string">postgres</span></span><br><span class="line">  <span class="attr">host:</span>     <span class="string">localhost</span></span><br><span class="line"></span><br><span class="line"><span class="attr">development:</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">myapp_development</span></span><br><span class="line">  <span class="string">&lt;&lt;:</span> <span class="meta">*defaults</span></span><br><span class="line"></span><br><span class="line"><span class="attr">test:</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">myapp_test</span></span><br><span class="line">  <span class="string">&lt;&lt;:</span> <span class="meta">*defaults</span></span><br><span class="line"><span class="comment"># 等同于下面的代码。</span></span><br><span class="line"><span class="attr">defaults:</span></span><br><span class="line">  <span class="attr">adapter:</span>  <span class="string">postgres</span></span><br><span class="line">  <span class="attr">host:</span>     <span class="string">localhost</span></span><br><span class="line"></span><br><span class="line"><span class="attr">development:</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">myapp_development</span></span><br><span class="line">  <span class="attr">adapter:</span>  <span class="string">postgres</span></span><br><span class="line">  <span class="attr">host:</span>     <span class="string">localhost</span></span><br><span class="line"></span><br><span class="line"><span class="attr">test:</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">myapp_test</span></span><br><span class="line">  <span class="attr">adapter:</span>  <span class="string">postgres</span></span><br><span class="line">  <span class="attr">host:</span>     <span class="string">localhost</span></span><br></pre></td></tr></table></figure>

<h2 id="函数和正则表达式的转换"><a href="#函数和正则表达式的转换" class="headerlink" title="函数和正则表达式的转换"></a>函数和正则表达式的转换</h2><p>这是 JS-YAML 库特有的功能，可以把函数和正则表达式转为字符串。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># example.yml</span></span><br><span class="line"><span class="attr">fn:</span> <span class="string">function</span> <span class="string">()</span> &#123; <span class="string">return</span> <span class="number">1</span> &#125;</span><br><span class="line"><span class="attr">reg:</span> <span class="string">/test/</span></span><br></pre></td></tr></table></figure>

<p>解析上面的 yml 文件的代码如下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> yaml = <span class="built_in">require</span>(<span class="string">&quot;js-yaml&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> doc = yaml.load(fs.readFileSync(<span class="string">&quot;./example.yml&quot;</span>, <span class="string">&quot;utf8&quot;</span>));</span><br><span class="line">  <span class="built_in">console</span>.log(doc);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>从 JavaScript 对象还原到 yaml 文件的代码如下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> yaml = <span class="built_in">require</span>(<span class="string">&quot;js-yaml&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  fn: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  reg: <span class="regexp">/test/</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  fs.writeFileSync(<span class="string">&quot;./example.yml&quot;</span>, yaml.dump(obj), <span class="string">&quot;utf8&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参考：<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/u014788227/article/details/52868997">YAML语言</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/vincent_hbl/article/details/75411243">YAML 最最基础语法</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2018-11-12T16:00:00.000Z" title="2018/11/13 上午12:00:00">2018-11-13</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-09-08T15:43:26.377Z" title="2020/9/8 下午11:43:26">2020-09-08</time></span><span class="level-item"> BF </span><span class="level-item">23 minutes read (About 3474 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/11/13/2018/11/2018-11-13-TestCategories/">Software Test Categories</a></h1><div class="content"><h1 id="软件测试的分类"><a href="#软件测试的分类" class="headerlink" title="软件测试的分类"></a>软件测试的分类</h1><p>在刚入测试坑的时候，测试的基本概念还停留在早期学习的相关知识。对于黑盒/白盒，单元测试，集成测试，冒烟测试等多多少少有点了解，但其实分的不是很清楚。</p>
<p>入坑之后，补充过基础知识，参加过一些培训，再加上真正深入测试工作，才有了更多的体会，恍然大悟的感觉。</p>
<p>今天主要总结下软件测试的分类。</p>
<h2 id="按软件测试的阶段"><a href="#按软件测试的阶段" class="headerlink" title="按软件测试的阶段"></a>按软件测试的阶段</h2><h3 id="单元测试-Unit-Testing"><a href="#单元测试-Unit-Testing" class="headerlink" title="单元测试(Unit Testing)"></a>单元测试(Unit Testing)</h3><p>单元测试是对软件组成单元进行测试。其目的是检验软件基本组成单位的正确性。测试的对象是软件设计的最小单位：模块。所以也可能被称为<strong>模块测试</strong></p>
<ul>
<li>测试阶段：编码后</li>
<li>测试对象：最小模块</li>
<li>测试人员：白盒测试工程师或开发工程师</li>
<li>测试依据：代码和注释+详细设计文档</li>
<li>测试方法：白盒测试</li>
<li>测试内容：模块接口测试、局部数据结构测试、路径测试、错误处理测试、边界测试</li>
</ul>
<h3 id="集成测试-Integration-Testing"><a href="#集成测试-Integration-Testing" class="headerlink" title="集成测试(Integration Testing)"></a>集成测试(Integration Testing)</h3><p>集成测试也称联合测试、组装测试，将程序模块采用适当的集成策略组装起来，对系统的接口及集成后的功能进行正确性检测的测试工作。主要目的是检查软件单位之间的接口是否正确。</p>
<ul>
<li>测试阶段：一般单元测试之后进行</li>
<li>测试对象：模块间的接口</li>
<li>测试人员：白盒测试工程师或开发工程师</li>
<li>测试依据：单元测试的模块+概要设计文档</li>
<li>测试方法：黑盒测试与白盒测试相结合</li>
<li>测试内容：模块之间数据传输、模块之间功能冲突、模块组装功能正确性、全局数据结构、单模块缺陷对系统的影响</li>
</ul>
<h3 id="系统测试-System-Testing"><a href="#系统测试-System-Testing" class="headerlink" title="系统测试(System Testing)"></a>系统测试(System Testing)</h3><p>将软件系统看成是一个系统的测试。包括对功能、性能以及软件所运行的软硬件环境进行测试。一般测试的时间也是最多花在系统测试阶段，耗费最多的人时，并且自动化的 Case 都要覆盖。</p>
<ul>
<li>测试阶段：集成测试通过之后</li>
<li>测试对象：整个系统（软、硬件）</li>
<li>测试人员：黑盒测试工程师</li>
<li>测试依据：需求规格说明文档</li>
<li>测试方法：黑盒测试</li>
<li>测试内容：功能、界面、可靠性、易用性、性能、兼容性、安全性等</li>
</ul>
<h3 id="验收测试-Acceptance-Testing"><a href="#验收测试-Acceptance-Testing" class="headerlink" title="验收测试(Acceptance Testing)"></a>验收测试(Acceptance Testing)</h3><p>验收测试是部署软件之前的最后一个测试操作。它是技术测试的最后一个阶段，也称为交付测试。验收测试的目的是确保软件准备就绪，按照项目合同、任务书、双方约定的验收依据文档，向软件购买都展示该软件系统满足原始需求。</p>
<ul>
<li>测试阶段：系统测试通过之后</li>
<li>测试对象：整个系统（包括软硬件）。</li>
<li>测试人员：主要是最终用户或者需求方。</li>
<li>测试依据：用户需求、验收标准</li>
<li>测试方法：黑盒测试</li>
<li>测试内容：同系统测试(功能…各类文档等)</li>
</ul>
<h2 id="按是否查看代码划分"><a href="#按是否查看代码划分" class="headerlink" title="按是否查看代码划分"></a>按是否查看代码划分</h2><h3 id="黑盒测试-Black-box-Testing"><a href="#黑盒测试-Black-box-Testing" class="headerlink" title="黑盒测试(Black-box Testing)"></a>黑盒测试(Black-box Testing)</h3><p>黑盒测试也称功能测试，测试中把被测的软件当成一个黑盒子，不关心盒子的内部结构是什么，只关心软件的输入数据与输出数据。</p>
<h3 id="白盒测试-White-box-Testing"><a href="#白盒测试-White-box-Testing" class="headerlink" title="白盒测试(White-box Testing)"></a>白盒测试(White-box Testing)</h3><p>白盒测试又称结构测试、透明盒测试、逻辑驱动测试或基于代码的测试。白盒指的打开盒子，去研究里面的源代码和程序结果。</p>
<h3 id="灰盒测试-Gray-Box-Testing"><a href="#灰盒测试-Gray-Box-Testing" class="headerlink" title="灰盒测试(Gray-Box Testing)"></a>灰盒测试(Gray-Box Testing)</h3><p>灰盒测试，是介于白盒测试与黑盒测试之间的一种测试，灰盒测试多用于集成测试阶段，不仅关注输出、输入的正确性，同时也关注程序内部的情况。</p>
<h2 id="按是否执行程序划分"><a href="#按是否执行程序划分" class="headerlink" title="按是否执行程序划分"></a>按是否执行程序划分</h2><h3 id="静态测试-Static-testing"><a href="#静态测试-Static-testing" class="headerlink" title="静态测试(Static testing)"></a>静态测试(Static testing)</h3><p>静态测试是指不运行被测程序本身，仅通过分析或检查源程序的语法、结构、过程、接口等来检查程序的正确性。对需求规格说明书、软件设计说明书、源程序做结构分析、流程图分析、符号执行来找错。</p>
<h4 id="检查项："><a href="#检查项：" class="headerlink" title="检查项："></a>检查项：</h4><ul>
<li>代码风格和规则审核；</li>
<li>程序设计和结构的审核；</li>
<li>业务逻辑的审核；</li>
<li>走查、审查与技术复审手册。</li>
</ul>
<h4 id="静态质量："><a href="#静态质量：" class="headerlink" title="静态质量："></a>静态质量：</h4><p>度量所依据的标准是 ISO9126。在该标准中，软件的质量用以下几个方面来衡量，即:</p>
<ul>
<li>功能性(Functionality)</li>
<li>可靠性(Reliability)</li>
<li>可用性(Usability)</li>
<li>有效性(Efficiency)</li>
<li>可维护性（Maintainability）</li>
<li>可移植性(Portability)。</li>
</ul>
<h3 id="动态测试-Dynamic-testing"><a href="#动态测试-Dynamic-testing" class="headerlink" title="动态测试(Dynamic testing)"></a>动态测试(Dynamic testing)</h3><p>动态测试方法是指通过运行被测程序，检查运行结果与预期结果的差异，并分析运行效率、正确性和健壮性等性能。这种方法由三部分组成：构造测试用例、执行程序、分析程序的输出结果。</p>
<h2 id="按是否手工执行测试"><a href="#按是否手工执行测试" class="headerlink" title="按是否手工执行测试"></a>按是否手工执行测试</h2><h3 id="手工测试-Manual-testing"><a href="#手工测试-Manual-testing" class="headerlink" title="手工测试(Manual testing)"></a>手工测试(Manual testing)</h3><p>手工测试就是由人去一个一个的输入用例，然后观察结果，和机器测试相对应，属于比较原始但是必须的一个步骤。</p>
<p><strong>优点：</strong> 自动化无法替代探索性测试、发散思维类无既定结果的测试。</p>
<p><strong>缺点：</strong> 执行效率慢，量大易错。</p>
<h3 id="自动化测试-Automation-Testing"><a href="#自动化测试-Automation-Testing" class="headerlink" title="自动化测试(Automation Testing)"></a>自动化测试(Automation Testing)</h3><p>就是在预设条件下运行系统或应用程序，评估运行结果，预先条件应包括正常条件和异常条件。简单说自动化测试是把以人为驱动的测试行为转化为机器执行的一种过程。</p>
<p>自动化测试又可分为：</p>
<ul>
<li>功能测试自动化</li>
<li>性能测试自动化</li>
<li>安全测试自动化。</li>
</ul>
<p>通常所说的自动化是指<strong>功能测试自动化</strong>。<br>AI 技术的兴起发展，类似可预见工作都有可能会被伪 AI 代替。</p>
<h2 id="按软件质量特性分类"><a href="#按软件质量特性分类" class="headerlink" title="按软件质量特性分类"></a>按软件质量特性分类</h2><h3 id="安全测试-Security-Testing"><a href="#安全测试-Security-Testing" class="headerlink" title="安全测试(Security Testing)"></a>安全测试(Security Testing)</h3><p>安全测试是在 IT 软件产品的生命周期中，特别是产品开发基本完成到发布阶段，对产品进行检验以验证产品符合安全需求定义和产品质量标准的过程。</p>
<p>现在对安全知识的普及，大家意识都提上来了。比如现在越来越多的不支持 HTTP 协议，转用 HTTPS 等。</p>
<h3 id="性能测试-Performance-Testing"><a href="#性能测试-Performance-Testing" class="headerlink" title="性能测试(Performance Testing)"></a>性能测试(Performance Testing)</h3><p>性能测试是通过自动化的测试工具模拟多种正常、峰值以及异常负载条件来对系统的各项性能指标进行测试。</p>
<p><strong>可靠性测试</strong>和<strong>压力测试</strong>都属于性能测试，两者可以结合进行。</p>
<p>通过负载测试，确定在各种工作负载下系统的性能，目标是测试当负载逐渐增加时，系统各项性能指标的变化情况。压力测试是通过确定一个系统的瓶颈或者不能接受的性能点，来获得系统能提供的最大服务级别的测试。</p>
<h3 id="可靠性测试-Reliability-Testing"><a href="#可靠性测试-Reliability-Testing" class="headerlink" title="可靠性测试(Reliability Testing)"></a>可靠性测试(Reliability Testing)</h3><p>软件可靠性 (software reliability )是软件产品在规定的条件下和规定的时间区间完成规定功能的能力。</p>
<p>规定的条件是指直接与软件运行相关的使用该软件的计算机系统的状态和软件的输入条件，或统称为软件运行时的外部输入条件;<br>规定的时间区间是指软件的实际运行时间区间;规定功能是指为提供给定的服务，软件产品所必须具备的功能。</p>
<p>软件可靠性不但与软件存在的缺陷和(或)差错有关，而且与系统输入和系统使用有关。软件可靠性的概率度量称软件可靠度。</p>
<h3 id="安装测试-Installing-Testing"><a href="#安装测试-Installing-Testing" class="headerlink" title="安装测试(Installing Testing)"></a>安装测试(Installing Testing)</h3><p>安装测试即对于需要安装的软件的测试，保证软件的安装包能正常安装部署，需要考虑到系统版本，环境依赖等因素。</p>
<h3 id="兼容性测试-Compatibility-Testing"><a href="#兼容性测试-Compatibility-Testing" class="headerlink" title="兼容性测试(Compatibility Testing)"></a>兼容性测试(Compatibility Testing)</h3><p>软件兼容性测试是指检查软件之间能否正确地进行交互和共享信息。<br>随着用户对来自各种类型软件之间共享数据能力和充分利用空间同时执行多个程序能力的要求，测试软件之间能否协作变得越来越重要。<br>软件兼容性测试工作的目标是保证软件按照用户期望的方式进行交互。</p>
<h2 id="其它测试分类"><a href="#其它测试分类" class="headerlink" title="其它测试分类"></a>其它测试分类</h2><h3 id="冒烟测试-Smoke-Testing"><a href="#冒烟测试-Smoke-Testing" class="headerlink" title="冒烟测试(Smoke Testing)"></a>冒烟测试(Smoke Testing)</h3><p>冒烟测试目的是确认软件基本功能正常，冒烟测试的执行者是版本编译人员。</p>
<p>现在基本执行对象为测试人员，在正规测试一个新版本之前，投入较少的人力和时间验证基本功能，通过则测试准入。</p>
<p>我忘记有一个很形象的比喻，据说最早在硬件测试中，对测试样品通电之后，如果直接冒烟了，那么说明这个样品直接不合格，不需要后续的测试了，打回重做。</p>
<h3 id="随机测试-Ad-hoc-Testing"><a href="#随机测试-Ad-hoc-Testing" class="headerlink" title="随机测试(Ad-hoc Testing)"></a>随机测试(Ad-hoc Testing)</h3><p>随机测试主要是根据测试者的经验对软件进行功能和性能抽查。</p>
<p>根据测试说明书执行用例测试的重要补充手段，是保证测试覆盖完整性的有效方式和过程。</p>
<p>随机测试主要是对被测软件的一些重要功能进行复测，也包括测试那些当前的测试用例(TestCase)没有覆盖到的部分。</p>
<h3 id="探索性测试-Exploratory-testing"><a href="#探索性测试-Exploratory-testing" class="headerlink" title="探索性测试(Exploratory testing)"></a>探索性测试(Exploratory testing)</h3><p>探索性测试可以说是一种测试思维技术。它没有很多实际的测试方法、技术和工具，但是却是所有测试人员都应该掌握的一种测试思维方式。探索性强调测试人员的主观能动性，抛弃繁杂的测试计划和测试用例设计过程，强调在碰到问题时及时改变测试策略。</p>
<p>探索性测试自动化暂时无法代替。好的测试人员也无法被代替。</p>
<h3 id="回归测试-Regression-Testing"><a href="#回归测试-Regression-Testing" class="headerlink" title="回归测试(Regression Testing)"></a>回归测试(Regression Testing)</h3><p>回归测试是指修改了旧代码后，重新进行测试以确认修改没有引入新的错误或导致其他代码产生错误。自动回归测试将大幅降低系统测试、维护升级等阶段的成本。</p>
<p>在整个软件测试过程中占有很大的工作量比重，软件开发的各个阶段都会进行多次回归测试。通过选择正确的回归测试策略来改进回归测试的效率和有效性是很有意义的。</p>
<h3 id="α-测试-Alpha-Testing"><a href="#α-测试-Alpha-Testing" class="headerlink" title="α 测试(Alpha Testing)"></a>α 测试(Alpha Testing)</h3><p>α 测试是由一个用户在开发环境下进行的测试，也可以是公司内部的用户在模拟实际操作环境下进行的测试。α 测试的目的是评价软件产品的 FLURPS(即功能、局域化、可使用性、可靠性、性能和支持)。</p>
<p>大型通用软件，在正式发布前，通常需要执行 Alpha 和 Beta 测试。α 测试不能由程序员或测试员完成。</p>
<h3 id="β-测试-Beta-Testing"><a href="#β-测试-Beta-Testing" class="headerlink" title="β 测试(Beta Testing)"></a>β 测试(Beta Testing)</h3><p>Beta 测试是一种验收测试。Beta 测试由软件的最终用户们在一个或多个客户场所进行。</p>
<p><strong>α 测试与 Beta 测试的区别</strong>：Findyou</p>
<p>测试的场所不同：Alpha 测试是指把用户请到开发方的场所来测试,beta 测试是指在一个或多个用户的场所进行的测试。</p>
<p>Alpha 测试的环境是受开发方控制的,用户的数量相对比较少,时间比较集中。beta 测试的环境是不受开发方控制的,用户数量相对比较多,时间不集中。</p>
<p>alpha 测试先于 beta 测试执行。通用的软件产品需要较大规模的 beta 测试,测试周期比较长。</p>
<h2 id="测试分类的思维导图"><a href="#测试分类的思维导图" class="headerlink" title="测试分类的思维导图"></a>测试分类的思维导图</h2><p>下面就用一张图来稍微总结一下，不一定完全准确，就当参考一下吧。</p>
<p><img src="/img/post/2018/11/2018-11-13-TestCategories.jpg" alt="TestCategoriesMind"></p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>软件测试的分类可以从许多角度切入，主要的分类了解了就差不多了，具体的可以针对性的学习。</p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/findyou/p/6480411.html">软件测试概念及分类整理汇总</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/chaosmax/article/details/71617807">软件测试的定义与分类</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_35867537/article/details/77477775">软件测试分类及测试中三个主要概念</a></p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/4/">Previous</a></div><div class="pagination-next"><a href="/page/6/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/4/">4</a></li><li><a class="pagination-link is-current" href="/page/5/">5</a></li><li><a class="pagination-link" href="/page/6/">6</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/9/">9</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/mybear.jpg" alt="bearfly1990"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">bearfly1990</p><p class="is-size-6 is-block">有熊在飞</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>HZ, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">81</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">100</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/bearfly1990" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/bearfly1990"><i class="fab fa-github"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-11T16:00:00.000Z">2021-08-12</time></p><p class="title"><a href="/2021/08/12/2021/08/2021-08-12-box-python-sdk/">box SDK for python</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-07T16:00:00.000Z">2021-08-08</time></p><p class="title"><a href="/2021/08/08/2021/08/2021-08-09-kafka-learn-01/">Kafka Learn - 01</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-20T16:00:00.000Z">2021-07-21</time></p><p class="title"><a href="/2021/07/21/2021/07/2021-07-21-jaydebeapi/">jaydebeapi</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-16T16:00:00.000Z">2021-07-17</time></p><p class="title"><a href="/2021/07/17/2021/07/2021-07-17-NanHu/">NanHu</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-03T16:00:00.000Z">2021-07-04</time></p><p class="title"><a href="/2021/07/04/2021/07/2021-07-04-folder-tree/">Folder Tree Info DFS/BFS</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">August 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">July 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/03/"><span class="level-start"><span class="level-item">March 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">November 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/10/"><span class="level-start"><span class="level-item">October 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/08/"><span class="level-start"><span class="level-item">August 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/06/"><span class="level-start"><span class="level-item">June 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/02/"><span class="level-start"><span class="level-item">February 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/01/"><span class="level-start"><span class="level-item">January 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">November 2018</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">October 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">September 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">August 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">July 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">June 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/05/"><span class="level-start"><span class="level-item">May 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/04/"><span class="level-start"><span class="level-item">April 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/2019/"><span class="tag">2019</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apache/"><span class="tag">Apache</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Diary/"><span class="tag">Diary</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/E-R/"><span class="tag">E-R</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HDFS/"><span class="tag">HDFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hadoop/"><span class="tag">Hadoop</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kafka/"><span class="tag">Kafka</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PIL/"><span class="tag">PIL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Pandas/"><span class="tag">Pandas</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RESTful/"><span class="tag">RESTful</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RPC/"><span class="tag">RPC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/acm/"><span class="tag">acm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/algorithm/"><span class="tag">algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/algorithms/"><span class="tag">algorithms</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/alibaba/"><span class="tag">alibaba</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/annotation/"><span class="tag">annotation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apidoc/"><span class="tag">apidoc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/big-data/"><span class="tag">big data</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bigdata/"><span class="tag">bigdata</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/box/"><span class="tag">box</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/chart/"><span class="tag">chart</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/chartjs/"><span class="tag">chartjs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/class/"><span class="tag">class</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/colorlog/"><span class="tag">colorlog</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/config/"><span class="tag">config</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/console/"><span class="tag">console</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cpu/"><span class="tag">cpu</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/csv/"><span class="tag">csv</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dairy/"><span class="tag">dairy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/data-analysis/"><span class="tag">data analysis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/data-structure/"><span class="tag">data structure</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/database/"><span class="tag">database</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/db/"><span class="tag">db</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/design-patterns/"><span class="tag">design patterns</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/diary/"><span class="tag">diary</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dokuwiki/"><span class="tag">dokuwiki</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/download/"><span class="tag">download</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/email/"><span class="tag">email</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/excel/"><span class="tag">excel</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/file/"><span class="tag">file</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flask-restful/"><span class="tag">flask-restful</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gRPC/"><span class="tag">gRPC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/goal/"><span class="tag">goal</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hadoop/"><span class="tag">hadoop</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hive/"><span class="tag">hive</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/httpd/"><span class="tag">httpd</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/imageio/"><span class="tag">imageio</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/io/"><span class="tag">io</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jdbc/"><span class="tag">jdbc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/json/"><span class="tag">json</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/life/"><span class="tag">life</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lock/"><span class="tag">lock</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/log/"><span class="tag">log</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/manual/"><span class="tag">manual</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/matplotlib/"><span class="tag">matplotlib</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/memory/"><span class="tag">memory</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/monitor/"><span class="tag">monitor</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/moviepy/"><span class="tag">moviepy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/network/"><span class="tag">network</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node-js/"><span class="tag">node.js</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/numpy/"><span class="tag">numpy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openpyxl/"><span class="tag">openpyxl</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/orm/"><span class="tag">orm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pandas/"><span class="tag">pandas</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/performance/"><span class="tag">performance</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/php/"><span class="tag">php</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/powershell/"><span class="tag">powershell</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/private/"><span class="tag">private</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/progress-bar/"><span class="tag">progress bar</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/proxy/"><span class="tag">proxy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pyodbc/"><span class="tag">pyodbc</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">45</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pytz/"><span class="tag">pytz</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pywin32/"><span class="tag">pywin32</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reflect/"><span class="tag">reflect</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regex/"><span class="tag">regex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sdk/"><span class="tag">sdk</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/spider/"><span class="tag">spider</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/springboot/"><span class="tag">springboot</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sql/"><span class="tag">sql</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sqlalchemy/"><span class="tag">sqlalchemy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swagger/"><span class="tag">swagger</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tasklist/"><span class="tag">tasklist</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/test/"><span class="tag">test</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/thread/"><span class="tag">thread</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tiktok/"><span class="tag">tiktok</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tkinter/"><span class="tag">tkinter</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/training/"><span class="tag">training</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/txt/"><span class="tag">txt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unicode/"><span class="tag">unicode</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vmware/"><span class="tag">vmware</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/work/"><span class="tag">work</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/xpath/"><span class="tag">xpath</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/yaml/"><span class="tag">yaml</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%9A%E5%AE%A2/"><span class="tag">博客</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/favicon.ico" alt="Shawn&#039;Blog Test" height="28"></a><p class="is-size-7"><span>&copy; 2021 Shawn</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>